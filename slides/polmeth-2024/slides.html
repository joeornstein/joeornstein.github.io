<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.433">

  <meta name="author" content="Joseph T. Ornstein">
  <title>fuzzylink</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title"><code>fuzzylink</code></h1>
  <p class="subtitle">Probabilistic Record Linkage Using Pretrained Text Embeddings</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Joseph T. Ornstein 
</div>
        <p class="quarto-title-affiliation">
            University of Georgia
          </p>
    </div>
</div>

</section>
<section id="fuzzy-record-linkage" class="slide level2">
<h2>Fuzzy Record Linkage</h2>
<div class="columns">
<div class="column">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-2_26882551f9133d96402cf767d276b6a5">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>presidents</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            name age
1      Joe Biden  81
2   Donald Trump  77
3   Barack Obama  62
4 George W. Bush  77
5   Bill Clinton  77</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-3_f70f94afd90ec6ece158a0ecf6f686a1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>voter_file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       name      hobby
1    Joseph Robinette Biden     Trains
2        Donald John Trump        Golf
3      Barack Hussein Obama Basketball
4        George Walker Bush    Reading
5 William Jefferson Clinton  Saxophone
6               Biff Tannen   Bullying
7                 Joe Riley    Jogging</code></pre>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-4_b1e58742a16052f8fe5a8ddb7faa2d87">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">library</span>(fuzzylink)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">fuzzylink</span>(presidents, voter_file, <span class="at">by =</span> <span class="st">'name'</span>, <span class="at">record_type =</span> <span class="st">'person'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-5_65be12a7832f837221b5581a8cfd7750">
<div class="cell-output cell-output-stdout">
<pre><code>               A                         B match_probability age      hobby
1      Joe Biden    Joseph Robinette Biden                 1  81     Trains
2   Donald Trump        Donald John Trump                  1  77       Golf
3   Barack Obama      Barack Hussein Obama                 1  62 Basketball
4 George W. Bush        George Walker Bush                 1  77    Reading
5   Bill Clinton William Jefferson Clinton                 1  77  Saxophone</code></pre>
</div>
</div>
</div>
</section>
<section id="overview-of-the-talk" class="slide level2">
<h2>Overview of the Talk</h2>
<ol type="1">
<li class="fragment">Review existing methods for fuzzy record linkage</li>
<li class="fragment">The proposed approach</li>
<li class="fragment">Three applications</li>
<li class="fragment">Avenues for future work</li>
</ol>
</section>
<section id="background" class="slide level2 smaller">
<h2>Background</h2>
<ul>
<li class="fragment"><p>To perform fuzzy record linkage, one needs a measure of <em>string</em> <em>similarity</em>.</p></li>
<li class="fragment"><p>Existing approaches rely on <em>lexical</em> measures of string similarity <span class="citation" data-cites="jaro1989">(e.g. <a href="#/references" role="doc-biblioref" onclick="">Jaro 1989</a>)</span>.</p>
<ul>
<li class="fragment"><p>Computed based on shared lexical features (e.g., fraction of characters in common, number of transpositions necessary to convert one string to another)</p></li>
<li class="fragment"><p><code>R</code> packages like <code>fastLink</code>, <code>fuzzyjoin</code>, and <code>stringmatch</code> all use one or more of these measures</p></li>
</ul></li>
<li class="fragment"><p>Great for linking records with typos/misspellings.</p></li>
<li class="fragment"><p>May provide a misleading measure of match quality when two lexically dissimilar strings have the same meaning.</p></li>
</ul>
</section>
<section id="background-1" class="slide level2">
<h2>Background</h2>
<p><strong>Nicknames:</strong></p>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-6_4081922c6703578bee4f925c149105b7">
<div class="cell-output cell-output-stdout">
<pre><code>                       Joe Biden
Joseph Robinette Biden      0.72
Joe Riley                   0.87</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                          Bill Clinton
William Jefferson Clinton         0.58
Biff Tannen                       0.70</code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Acronyms:</strong></p>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-7_c88cebfd14e367eb7637322b47d7868a">
<div class="cell-output cell-output-stdout">
<pre><code>                          USPS
United States Post Office 0.57
UPS                       0.82</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                                        AARP
American Association of Retired Persons 0.57
AAA                                     0.78</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                         PG&amp;E
Pacific Gas and Electric 0.58
PPG Industries           0.59</code></pre>
</div>
</div>
</div>
</section>
<section id="beyond-lexical-similarity" class="slide level2">
<h2>Beyond Lexical Similarity</h2>
<ul>
<li class="fragment"><p>We’d prefer a measure that captures not just <em>lexical</em> similarity, but <em>semantic</em> similarity as well.</p></li>
<li class="fragment"><p>Over the past five years, we’ve seen the proliferation of language models that seem to understand the meaning of language (e.g.&nbsp;ChatGPT).</p>
<ul>
<li class="fragment">Leveraging these models for fuzzy record linkage is a natural next step.</li>
</ul></li>
</ul>
</section>
<section id="socould-we-just-ask-chatgpt" class="slide level2">
<h2>So…could we just ask ChatGPT?</h2>
<div class="fragment">
<p><img data-src="images/prompt.png"></p>
</div>
</section>
<section id="socould-we-just-ask-chatgpt-1" class="slide level2">
<h2>So…could we just ask ChatGPT?</h2>
<ul>
<li class="fragment"><p>The advantage of this approach is accuracy! GPT-4o correctly labels 99.1% of name pairs from <span class="citation" data-cites="kaufman2022">Kaufman and Klevs (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span>.</p></li>
<li class="fragment"><p>The problem with this approach is that it scales terribly.</p>
<ul>
<li class="fragment"><p>If you have <span class="math inline">\(N_A\)</span> records in the first dataset, and <span class="math inline">\(N_B\)</span> records in the second dataset, you need <span class="math inline">\(N_A \times N_B\)</span> pairwise comparisons.</p></li>
<li class="fragment"><p>This is <em>expensive</em>, in both time and money.</p></li>
</ul></li>
<li class="fragment"><p>A scalable record linkage procedure might <em>incorporate</em> LLM prompts, but needs to dramatically reduce the number of prompts we submit.</p></li>
</ul>
</section>
<section id="proposed-solution" class="slide level2">
<h2>Proposed Solution</h2>
<p>Use <strong>pretrained text embeddings</strong> to predict which record pairs are likely matches, then validate only those likely matches using an LLM prompt.</p>
</section>
<section id="background-text-embeddings" class="slide level2">
<h2>Background: Text Embeddings</h2>
<ul>
<li class="fragment"><p>LLMs represent text as <strong>embeddings</strong>—high-dimensional vectors of real numbers.</p></li>
<li class="fragment"><p>These vectors are trained so that texts with similar meaning are close to one another in vector space.</p></li>
<li class="fragment"><p>For example, OpenAI’s latest embedding model represents the string “Joe Biden” as the following 3,072-dimensional vector:</p></li>
</ul>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-8_1f64090d6388e2e5362c00ca112a9a64">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>embedding <span class="ot">&lt;-</span> fuzzylink<span class="sc">::</span><span class="fu">get_embeddings</span>(<span class="st">'Joe Biden'</span>,</span>
<span id="cb12-2"><a href="#cb12-2"></a>                                       <span class="at">dimensions =</span> <span class="dv">3072</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a>embedding[<span class="st">'Joe Biden'</span>,] <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   [1]  0.01351 -0.00754 -0.00274 -0.00317 -0.00106 -0.01550  0.02358  0.03511
   [9] -0.00856  0.03399 -0.02199  0.03769 -0.01423  0.00579 -0.04301  0.06152
  [17] -0.01799  0.00975 -0.05015 -0.04445 -0.03617  0.02885 -0.03047  0.00577
  [25]  0.00878  0.02362  0.02077  0.00016  0.00278  0.03396 -0.01336  0.04945
  [33]  0.02170  0.00284  0.02485  0.03954 -0.01091 -0.02137 -0.01049 -0.00135
  [41] -0.02884  0.04122 -0.02978 -0.00721  0.02688  0.01569 -0.00530 -0.00752
  [49]  0.02305  0.02850 -0.01698 -0.02115  0.03088  0.06375  0.01109  0.03097
  [57] -0.00240 -0.01830 -0.03840 -0.00215  0.02268  0.01071 -0.00046  0.02321
  [65] -0.01586  0.02812  0.04195  0.01089 -0.01443  0.04780  0.03223  0.01028
  [73] -0.04063  0.01880  0.03637  0.01661  0.00295 -0.01888  0.00604 -0.00129
  [81]  0.00967 -0.04007  0.02847 -0.02997  0.02083 -0.00319  0.01412 -0.06746
  [89] -0.00020  0.00489  0.01531  0.00396 -0.02926 -0.00386 -0.00159  0.01203
  [97]  0.01224 -0.00321  0.00114 -0.04748  0.04331  0.00946 -0.01948 -0.01835
 [105] -0.00464 -0.00302  0.02444 -0.02064 -0.01575  0.03132  0.00610 -0.01960
 [113] -0.04674  0.01930 -0.01437  0.00331 -0.00889  0.04912 -0.00375 -0.03831
 [121]  0.00623  0.01224 -0.02123 -0.02052 -0.03346 -0.00743  0.01091  0.03523
 [129]  0.04013  0.00074 -0.03285  0.05705 -0.03881  0.00848  0.01883  0.00207
 [137] -0.00574  0.00644  0.00166  0.00181 -0.00146 -0.00047 -0.00998  0.00400
 [145]  0.00638 -0.01371  0.02061  0.00486 -0.00089 -0.01331  0.03194 -0.00609
 [153]  0.03102  0.02280  0.05059  0.01989 -0.04786  0.01165 -0.01918  0.00678
 [161] -0.02753  0.02557  0.00141 -0.02913  0.00387 -0.00697  0.03123  0.01013
 [169] -0.00309  0.02416 -0.00556 -0.03434 -0.00395  0.00090  0.00108  0.03261
 [177]  0.03076  0.00292 -0.01013  0.02272  0.00958 -0.00154 -0.00371 -0.01372
 [185]  0.00442  0.01534  0.00828 -0.01276 -0.00948 -0.08026  0.01894 -0.04545
 [193]  0.01365 -0.01503  0.01735 -0.02784 -0.00365 -0.01074 -0.03343  0.01898
 [201]  0.06364  0.00431  0.01469  0.00280 -0.00441 -0.02024 -0.00663  0.00086
 [209]  0.01525 -0.00428 -0.01491 -0.00283 -0.01663  0.00411 -0.03825  0.00913
 [217] -0.05235  0.00645  0.03014  0.04043  0.03073 -0.01520 -0.02499 -0.00982
 [225] -0.02377 -0.05711  0.01926  0.04451 -0.02242  0.00548 -0.00226  0.03625
 [233]  0.01141  0.04451 -0.00913  0.04654  0.00020 -0.00956 -0.00422 -0.01022
 [241] -0.00113  0.01423 -0.01153 -0.00156 -0.00190  0.00193 -0.04413  0.00306
 [249] -0.00306  0.00519 -0.00804 -0.01327  0.02218 -0.03884  0.00817 -0.01215
 [257]  0.00953  0.00224  0.03004 -0.04363  0.01832  0.03540 -0.01725  0.04260
 [265]  0.02297  0.02134  0.01769 -0.03420  0.03855 -0.00743  0.02753  0.02508
 [273]  0.04281  0.05755  0.00535  0.00828 -0.03226  0.00568  0.01667 -0.01399
 [281]  0.02716  0.04066  0.04574  0.01371 -0.02280  0.01789 -0.00874  0.01660
 [289]  0.00936  0.00622 -0.04745  0.03922  0.01529 -0.02086 -0.01224  0.02854
 [297]  0.02177  0.01943 -0.02270  0.00698  0.01102 -0.00244 -0.01262 -0.04654
 [305]  0.01705  0.03696  0.01180 -0.03337 -0.03061  0.01049  0.00333  0.01039
 [313] -0.00900 -0.03975 -0.03023  0.00703  0.02347  0.02500  0.00801 -0.01525
 [321] -0.01040 -0.00035 -0.00941  0.00622 -0.00114 -0.01559 -0.00928  0.00125
 [329]  0.00438 -0.01851 -0.02411 -0.02741 -0.01573 -0.01517  0.04125 -0.01685
 [337] -0.00105  0.01256  0.02894  0.01764  0.01450 -0.05876 -0.04398 -0.02131
 [345]  0.01591  0.01110  0.03038  0.04566  0.00580 -0.02046  0.00036 -0.03243
 [353]  0.00218 -0.01567  0.02696 -0.05109  0.00566 -0.00754  0.02202  0.00646
 [361] -0.00065 -0.00838 -0.00362  0.03196 -0.04865 -0.01047 -0.02365 -0.01557
 [369]  0.00091 -0.01607 -0.00586  0.01780  0.00014  0.02325 -0.01214  0.01266
 [377] -0.02540 -0.02543 -0.02566  0.01189 -0.01307  0.00878  0.00892  0.00474
 [385]  0.01169 -0.01611  0.00282 -0.00118 -0.03461  0.00154  0.01776 -0.00976
 [393] -0.03314 -0.02628 -0.02278 -0.03079  0.01779  0.01184  0.03493 -0.01326
 [401]  0.01888 -0.00283 -0.00888 -0.02577 -0.00805 -0.01492 -0.03246 -0.02129
 [409]  0.01230  0.02909 -0.01001  0.04095 -0.01401  0.01432  0.01379  0.00136
 [417] -0.00008 -0.00168  0.00884  0.02887  0.01096  0.02568  0.00269  0.00855
 [425]  0.00449  0.03102  0.03558 -0.01380  0.02600  0.00767 -0.01870 -0.01874
 [433] -0.01835  0.05553 -0.01811 -0.04398  0.02935  0.00825  0.02032 -0.00279
 [441] -0.00391 -0.04157  0.01888  0.00357 -0.01855  0.02621  0.02979  0.02497
 [449]  0.02831  0.01399 -0.04613 -0.04043 -0.04113 -0.03337 -0.02929  0.00478
 [457] -0.02947  0.00093 -0.03082 -0.03564 -0.00946  0.01439  0.02393 -0.01137
 [465] -0.04519  0.01695 -0.02068  0.00284  0.00168 -0.01726 -0.00212  0.02649
 [473]  0.04046  0.00737 -0.00488  0.03020 -0.03549  0.03364  0.01986  0.00585
 [481] -0.00764 -0.02907  0.04521 -0.02950 -0.00321 -0.01290 -0.02223 -0.00947
 [489] -0.00251  0.00201 -0.02637  0.00703 -0.02111 -0.01685 -0.01268 -0.01322
 [497] -0.00881  0.03094  0.02770  0.01904  0.02071 -0.00500  0.03355 -0.00482
 [505] -0.04768 -0.02533  0.00763 -0.01619 -0.03094 -0.00293 -0.00758 -0.01098
 [513]  0.01813 -0.01025  0.04824  0.01393  0.02424 -0.01963 -0.01895 -0.00674
 [521] -0.00538 -0.00510  0.01041 -0.01168 -0.00142 -0.01110  0.02021  0.00744
 [529] -0.02267 -0.05544  0.00388 -0.00126 -0.01357 -0.00135 -0.01970 -0.01155
 [537] -0.00219 -0.02585 -0.00646  0.02309  0.04354 -0.00387  0.03708 -0.01988
 [545]  0.03017  0.04175 -0.01946 -0.03241 -0.00007 -0.01083 -0.00612 -0.00791
 [553]  0.02446  0.00201  0.01451 -0.00930 -0.01036 -0.02863  0.00127 -0.02270
 [561] -0.01136  0.00530 -0.02270  0.01417  0.01957 -0.01293 -0.03667  0.02055
 [569]  0.00006  0.00714 -0.01323 -0.01866 -0.04419 -0.00376  0.02399  0.03058
 [577] -0.00369 -0.02682 -0.02634  0.04757 -0.00864 -0.00590  0.00389  0.01657
 [585]  0.00763  0.02503 -0.02791 -0.02409  0.02218 -0.00444 -0.00585  0.01814
 [593] -0.01244  0.00260 -0.01080 -0.00748  0.01595  0.02491  0.02090  0.02005
 [601]  0.00532  0.01224  0.03543 -0.00148 -0.02474  0.02945  0.02857  0.02347
 [609] -0.00086  0.00133 -0.00629  0.01692  0.00814 -0.00390  0.00191  0.03108
 [617] -0.00846  0.00564 -0.02064  0.01842  0.01407 -0.04031 -0.00558 -0.01050
 [625] -0.01701  0.02666 -0.01948  0.01892 -0.00356 -0.01337 -0.01820 -0.00482
 [633] -0.01835 -0.00384 -0.00277  0.03382 -0.01623 -0.04545  0.00631  0.01773
 [641]  0.00932  0.02212 -0.00449  0.05106 -0.01241  0.01408  0.03408  0.03978
 [649] -0.00587  0.03282  0.02948 -0.00179 -0.00826  0.00956 -0.00089 -0.02866
 [657]  0.04119  0.01998 -0.00602 -0.03073  0.01557  0.00593  0.01102 -0.02553
 [665] -0.01035 -0.00503 -0.01633  0.00767  0.03329 -0.00089  0.02140 -0.01976
 [673] -0.01061  0.00233 -0.00532 -0.02102 -0.03079 -0.04745 -0.04181 -0.02477
 [681] -0.02340 -0.01548 -0.00643 -0.03023  0.02215 -0.00456  0.00199  0.00043
 [689]  0.00029 -0.00350 -0.05732  0.00628 -0.02740  0.00728  0.01631  0.00346
 [697]  0.01955 -0.04645 -0.01046  0.02638 -0.00992  0.00627 -0.00711  0.00382
 [705]  0.03928 -0.00853  0.01810  0.01451 -0.04704 -0.04489  0.02043  0.00404
 [713] -0.01532  0.01252  0.01537  0.00574 -0.01681 -0.01153 -0.00030 -0.03526
 [721] -0.01867  0.05908  0.01482  0.02506 -0.03044  0.01510  0.01194 -0.01293
 [729] -0.00177 -0.00331  0.01483  0.01023  0.01448  0.00076 -0.02029 -0.01166
 [737] -0.02748  0.00417  0.02675  0.00986  0.00721 -0.02387 -0.01528  0.03267
 [745]  0.00232  0.00970  0.00945  0.01070  0.02245 -0.05353  0.02926 -0.01901
 [753]  0.01399 -0.00195 -0.01750 -0.00151 -0.01324 -0.04495  0.00421  0.01688
 [761] -0.01589  0.01129  0.00981  0.00499 -0.00067 -0.02837  0.02832 -0.00006
 [769]  0.01053  0.00977  0.02324  0.01534  0.03452 -0.00173 -0.02864 -0.00960
 [777] -0.01739 -0.01603 -0.00676 -0.02768 -0.02129  0.00451 -0.03082 -0.01189
 [785] -0.01512 -0.02402 -0.01161 -0.00867 -0.00415 -0.00698 -0.01401  0.00377
 [793]  0.02480  0.02377  0.02538  0.00319  0.01816  0.00193  0.02713  0.00492
 [801] -0.00317  0.00765  0.00548  0.02889 -0.02120 -0.02485  0.04372 -0.01230
 [809] -0.02212  0.00447 -0.00391 -0.01022 -0.01265  0.03164  0.02228 -0.01625
 [817] -0.02953 -0.01509 -0.00354 -0.01155  0.00527  0.03470  0.00068 -0.00153
 [825]  0.00106 -0.01817  0.02117 -0.01181  0.00621  0.01254 -0.02737  0.00545
 [833] -0.01657  0.00411 -0.04795  0.02756 -0.00445  0.02052  0.01794  0.03111
 [841] -0.00501  0.00160  0.01329  0.00243  0.00997  0.00503  0.00455 -0.01319
 [849]  0.01237 -0.01788 -0.01941 -0.00166 -0.00012  0.04090  0.00160  0.00866
 [857] -0.03335 -0.00644 -0.02217 -0.00532 -0.01732  0.01074  0.01242  0.02189
 [865]  0.01369 -0.01794  0.02378  0.02352  0.00349 -0.01308 -0.01775  0.00374
 [873] -0.01894  0.00955 -0.00133  0.02059  0.01755 -0.00269  0.04460  0.01164
 [881] -0.01363 -0.00856 -0.02569 -0.01453  0.02267 -0.04025 -0.01832 -0.03370
 [889]  0.00185  0.01306 -0.01014  0.00905 -0.00156 -0.03355  0.04947  0.01227
 [897]  0.00198  0.01125 -0.00622 -0.01512  0.00488  0.00463 -0.00633  0.01236
 [905] -0.00041  0.01003  0.03399  0.00665  0.02978 -0.00288  0.03282 -0.01380
 [913]  0.02080  0.01293  0.01609  0.00270 -0.03164 -0.01245  0.00249  0.00304
 [921] -0.01055  0.03050  0.01700  0.00384  0.00694 -0.00536 -0.02712 -0.00247
 [929] -0.01907  0.02682 -0.00978  0.02184 -0.02359 -0.01537  0.01611  0.01263
 [937]  0.01641 -0.00066  0.02485  0.00794 -0.01418  0.00390 -0.03102 -0.02622
 [945] -0.01491 -0.00300 -0.01338  0.02450  0.01725  0.00072 -0.02120  0.01921
 [953]  0.01249 -0.00315  0.00379 -0.01014 -0.00473 -0.00754  0.00041 -0.00029
 [961] -0.00281 -0.03863  0.02374 -0.00906  0.01720  0.01916 -0.02549  0.01214
 [969]  0.03132 -0.01694 -0.00273 -0.03893  0.03114 -0.01387 -0.01813  0.01190
 [977] -0.01017 -0.00068 -0.00656  0.04078 -0.02104  0.00578  0.01188  0.01748
 [985]  0.01910  0.00603  0.00899 -0.00770  0.01004  0.00863 -0.05917 -0.01105
 [993]  0.01545 -0.00387  0.01063 -0.00338  0.01653  0.01908 -0.00199 -0.01492
[1001] -0.03678  0.02173  0.00708 -0.02007 -0.01802  0.06675 -0.03326  0.02148
[1009] -0.02156 -0.00301 -0.01747 -0.02082  0.00390 -0.03346 -0.00612 -0.00150
[1017] -0.01445  0.02265  0.00701  0.06687 -0.01407  0.01464  0.00619  0.00055
[1025] -0.00131 -0.00670 -0.00812  0.00250  0.00556 -0.05476 -0.01376  0.02510
[1033] -0.00884 -0.00689  0.02296  0.00831  0.00023  0.05896 -0.01127 -0.00596
[1041]  0.00784 -0.00313 -0.00667  0.02043  0.01146  0.00823 -0.00009  0.01099
[1049]  0.01004 -0.01226  0.00070 -0.04207  0.00035  0.00283 -0.00132  0.00022
[1057] -0.01567 -0.01986 -0.00657  0.00333 -0.00832 -0.01547 -0.01317  0.01564
[1065]  0.02061  0.02829 -0.03302  0.00005 -0.00415 -0.04022 -0.02268 -0.02107
[1073]  0.00310  0.01195  0.01358 -0.05279 -0.01899 -0.01952 -0.03223 -0.02675
[1081]  0.03352 -0.03340 -0.02333  0.01902 -0.02186 -0.00009 -0.01604 -0.00524
[1089] -0.01492 -0.02416 -0.01315  0.01741  0.00250 -0.00243  0.01213 -0.02446
[1097]  0.01336  0.00399 -0.00847 -0.00434  0.00076  0.00837 -0.01490 -0.01300
[1105]  0.01218  0.04718 -0.04607 -0.02340 -0.00731 -0.01811  0.00950  0.01858
[1113]  0.02156 -0.02032  0.02212 -0.00710 -0.00676 -0.02743  0.02562  0.00556
[1121]  0.00920  0.00456  0.01742 -0.01089  0.01102  0.01300 -0.01178 -0.00262
[1129]  0.02826 -0.00953 -0.01357 -0.01545 -0.00249 -0.00701  0.00632 -0.01467
[1137] -0.01792 -0.01858  0.00096 -0.02178  0.01770 -0.01520  0.00203  0.01038
[1145]  0.00322  0.02541  0.00151 -0.00055 -0.02312 -0.03000  0.00837 -0.01780
[1153] -0.01764  0.01955 -0.00496 -0.00531  0.00581 -0.01147 -0.03114  0.02574
[1161] -0.03896 -0.02585 -0.00584  0.00026 -0.00847  0.00312  0.00364 -0.01678
[1169]  0.00282  0.00022 -0.01409  0.02438 -0.02798 -0.01218 -0.01392  0.02134
[1177]  0.01243  0.00447  0.01141 -0.02609  0.00790  0.00404 -0.03496 -0.00620
[1185] -0.01224  0.01101  0.02058  0.01504 -0.00406 -0.00179 -0.04298 -0.01185
[1193] -0.03658  0.00394 -0.00967 -0.00898  0.00078  0.02525  0.02302 -0.00933
[1201]  0.03740  0.01901 -0.01397 -0.00526  0.00165 -0.01162 -0.00607 -0.03100
[1209] -0.00807  0.01416  0.00228 -0.02609 -0.00495 -0.00058  0.01797  0.00313
[1217] -0.03282 -0.00025  0.02490  0.01159  0.01990  0.00250  0.04275 -0.01028
[1225]  0.00320 -0.01445 -0.00123 -0.01970 -0.02910  0.01204 -0.02239 -0.01093
[1233] -0.00777 -0.01222 -0.00084  0.01229 -0.01249  0.01462  0.01368 -0.01695
[1241]  0.04043 -0.00465 -0.00567 -0.00431  0.02419 -0.00287  0.01420 -0.00665
[1249] -0.01918  0.00044 -0.00875  0.00782 -0.00959  0.00377  0.02052  0.01939
[1257] -0.00364 -0.01664  0.00028 -0.00099  0.00924 -0.00528  0.02959  0.03667
[1265]  0.04242  0.02700  0.00353 -0.01263  0.00497 -0.02364 -0.01249  0.00377
[1273]  0.00889 -0.00445  0.00655 -0.00094  0.00965  0.00798  0.01968  0.02315
[1281]  0.02334  0.02320  0.01861 -0.00549  0.00518 -0.00452  0.01001 -0.02177
[1289]  0.00459 -0.01761  0.04013 -0.03578  0.00105  0.00829 -0.00419 -0.00517
[1297]  0.01387 -0.00159 -0.00311  0.01398  0.01100 -0.00917  0.00635 -0.00745
[1305] -0.01354  0.00936  0.00815 -0.02887  0.00184 -0.02121 -0.00822  0.00965
[1313] -0.01259 -0.02411 -0.01103 -0.02765  0.01606 -0.00670 -0.00055  0.02541
[1321] -0.01317  0.01553  0.00464  0.01136 -0.02731 -0.03105 -0.02891  0.02976
[1329] -0.00661 -0.01252  0.01010 -0.01852 -0.02535  0.01584  0.02722  0.03126
[1337]  0.01010 -0.00564  0.00586 -0.00931 -0.03852  0.03149 -0.00024  0.00452
[1345] -0.03020 -0.00582 -0.00177 -0.00084  0.00741 -0.02397  0.00056 -0.01519
[1353] -0.03288  0.00376 -0.03097 -0.01509 -0.00766 -0.00994 -0.00861  0.00592
[1361]  0.00527 -0.00366 -0.00682 -0.00324  0.00999 -0.00360 -0.02004  0.00256
[1369]  0.01192  0.01491 -0.01700  0.01232 -0.03808 -0.01786 -0.04160  0.01431
[1377]  0.00926 -0.02205  0.04025 -0.00724 -0.01894  0.03288  0.00553 -0.00964
[1385] -0.00513  0.00496 -0.02300  0.02403 -0.02859 -0.00482  0.00743  0.01750
[1393] -0.00340 -0.03164  0.00862  0.02878 -0.00075 -0.01864 -0.02735  0.01811
[1401] -0.00820 -0.00027  0.00069  0.00831 -0.03567  0.01190 -0.00513 -0.00557
[1409] -0.00505  0.01742  0.01606 -0.00993 -0.00564 -0.01328  0.00215  0.00137
[1417]  0.02477  0.02591  0.00994 -0.01873 -0.00159  0.00851  0.00130  0.00121
[1425]  0.01155 -0.03893  0.02297 -0.01559 -0.00455 -0.02259  0.01990  0.01669
[1433]  0.00242 -0.01752  0.01846  0.01933  0.04710  0.00499 -0.01650  0.00421
[1441]  0.01337 -0.00749  0.00816  0.02503 -0.02556 -0.01137 -0.04148  0.00426
[1449]  0.04439  0.02458  0.01062  0.00847 -0.01635  0.01676  0.01741  0.00211
[1457]  0.00578 -0.00492 -0.00666  0.01003 -0.02790 -0.02409  0.00487 -0.00431
[1465]  0.00362  0.00218 -0.00415  0.00809 -0.02143  0.00109  0.00609  0.03017
[1473]  0.00387  0.00358  0.01824 -0.02622 -0.02801  0.00586 -0.00490 -0.01418
[1481] -0.01635  0.00970  0.00189  0.00984  0.00536 -0.01115  0.03346 -0.00084
[1489]  0.00722  0.01312 -0.01811  0.01560 -0.00934  0.02751 -0.02505  0.00720
[1497] -0.00451  0.01658  0.03293  0.01080  0.01663 -0.02087 -0.00690 -0.03179
[1505] -0.00609  0.03678 -0.02505 -0.01896 -0.02342 -0.01854  0.02509 -0.01391
[1513]  0.00682  0.02715 -0.01719  0.03173  0.03035  0.01678  0.03155 -0.02067
[1521]  0.01892  0.01036  0.00230 -0.01304 -0.01519  0.01842  0.01810  0.01462
[1529]  0.01520 -0.02065 -0.01203  0.00900  0.01589 -0.02012 -0.01550  0.00549
[1537]  0.02431 -0.00687  0.00327 -0.00311  0.02342 -0.02663 -0.00501  0.02015
[1545]  0.00270  0.02198  0.01152  0.00496  0.00230  0.00318  0.01474 -0.00465
[1553]  0.01249  0.01451 -0.01871 -0.00848  0.00331 -0.01113 -0.02010  0.00481
[1561] -0.01711  0.00490  0.00535  0.00845 -0.00096 -0.01854  0.03376 -0.00804
[1569]  0.00923 -0.01667  0.02004 -0.00870  0.00456  0.00127  0.00852  0.00169
[1577]  0.02076  0.01061  0.00988  0.00327  0.00677  0.02624 -0.03808 -0.01563
[1585] -0.01001  0.00075  0.01448 -0.00867 -0.03567 -0.01996  0.00233 -0.00716
[1593] -0.01352  0.01851  0.00312 -0.01030 -0.00619  0.01182  0.00095  0.04436
[1601] -0.03819  0.00003  0.00875  0.02306  0.00371  0.02364  0.00771 -0.00338
[1609] -0.02297 -0.00721  0.00023  0.00925  0.00760 -0.00148  0.01390  0.02076
[1617]  0.00966 -0.00049 -0.00773  0.00280  0.01745 -0.00004  0.00856  0.00959
[1625]  0.00108  0.01366 -0.00571 -0.01022 -0.00917  0.00189  0.00312  0.02925
[1633] -0.00981 -0.00152  0.00261 -0.00094  0.01336  0.00986  0.02629 -0.00119
[1641] -0.00207  0.00174  0.00664  0.00931  0.00283  0.02656 -0.01523 -0.00680
[1649] -0.01673 -0.02503  0.01611  0.01019  0.01885  0.00516 -0.01517  0.01109
[1657] -0.00350 -0.00468  0.00428  0.00227  0.02713  0.02472 -0.00012 -0.00920
[1665] -0.00423  0.00845 -0.02538  0.02131  0.01414 -0.00249 -0.00412 -0.00309
[1673]  0.01423  0.00532 -0.00269 -0.01492  0.01692 -0.01039 -0.01065 -0.00117
[1681] -0.00808 -0.01920  0.00063 -0.00102 -0.01267 -0.00358 -0.01049  0.00617
[1689]  0.00121  0.00675 -0.00834 -0.00674 -0.00889 -0.00468 -0.00466 -0.00531
[1697] -0.00584 -0.02543 -0.00757 -0.00174  0.01477  0.01952 -0.01176 -0.01103
[1705]  0.00838 -0.00801 -0.01700 -0.00095  0.00918 -0.00673 -0.00371  0.00073
[1713]  0.00745 -0.00403  0.00759 -0.01745  0.00308 -0.01093 -0.01657 -0.00851
[1721]  0.00232 -0.00526  0.00080 -0.00898  0.00069 -0.00564 -0.01259 -0.01387
[1729] -0.04742 -0.00089  0.00766 -0.00165  0.01052 -0.00240  0.05682  0.01879
[1737]  0.00556 -0.00250  0.03120 -0.02017  0.01235 -0.00909  0.00724 -0.01874
[1745] -0.01144  0.00978 -0.00255  0.00461  0.01666  0.02005  0.01638 -0.01720
[1753]  0.00806  0.03182  0.03079  0.01058 -0.00806 -0.00851 -0.01260 -0.00455
[1761]  0.01767 -0.00494  0.00692  0.02002  0.00377 -0.02436 -0.01777 -0.00887
[1769] -0.01894 -0.03405  0.00516 -0.01339 -0.00984 -0.00149  0.02781  0.00457
[1777]  0.01636  0.01933  0.01165 -0.01014 -0.01133 -0.00203  0.01082 -0.01402
[1785] -0.01028  0.00809  0.01455 -0.01722  0.00290 -0.02584 -0.00968 -0.00777
[1793] -0.00575  0.00203 -0.02037 -0.00117 -0.00849  0.01698 -0.00801  0.00180
[1801] -0.00069  0.01382  0.00670 -0.04304  0.01892 -0.00915 -0.00700  0.01205
[1809]  0.01510 -0.00096 -0.01124 -0.00843 -0.00096 -0.00052  0.03370  0.02490
[1817]  0.03279  0.01172  0.00422 -0.01496  0.00572  0.00373 -0.01298  0.00817
[1825]  0.02613  0.01901 -0.02026 -0.02130  0.01383  0.03097  0.00723 -0.00004
[1833] -0.02300 -0.00259  0.00163 -0.01451 -0.00784  0.01952 -0.00772 -0.00276
[1841]  0.01650  0.01315  0.01500 -0.00293 -0.01211  0.00501 -0.01498  0.00059
[1849]  0.00585  0.00692 -0.02311  0.04257 -0.02528 -0.01211  0.00305 -0.01807
[1857]  0.01129 -0.00680  0.00430 -0.02196  0.03355  0.00436 -0.00186  0.01626
[1865] -0.02046  0.00460 -0.02145  0.01742  0.00274 -0.01407  0.01620  0.02765
[1873]  0.04436  0.01037  0.02615  0.02525  0.00812 -0.00173 -0.02311  0.00754
[1881] -0.01251  0.00271  0.00500  0.00568  0.00568  0.00090 -0.00638  0.00464
[1889]  0.00390 -0.01299  0.01393 -0.00379 -0.01440 -0.00529  0.00998  0.01921
[1897]  0.00568  0.00620  0.00866 -0.04022  0.01185 -0.01040 -0.01146 -0.02512
[1905] -0.00246  0.01220 -0.00302  0.00513 -0.01183  0.00468 -0.02186 -0.00711
[1913] -0.00884  0.02738  0.00847  0.01453 -0.01313  0.00158  0.01057 -0.01064
[1921] -0.01735 -0.00338  0.00742 -0.00916 -0.00093 -0.00791  0.00109  0.00639
[1929]  0.01006 -0.01510 -0.02109 -0.00278  0.00976  0.01409  0.00094  0.00010
[1937]  0.00343 -0.01045 -0.00295  0.00134 -0.00598 -0.01710 -0.00661 -0.01210
[1945] -0.00592 -0.00378  0.01419  0.01019 -0.00840  0.00637 -0.00767  0.00638
[1953] -0.00582 -0.01112 -0.00340 -0.00024 -0.00908  0.00859  0.01157 -0.00889
[1961]  0.00308 -0.00682  0.00950  0.00027  0.00979 -0.02983  0.00089  0.01822
[1969]  0.01212  0.01520 -0.00041 -0.03449 -0.01160 -0.01263  0.00206 -0.01657
[1977]  0.01943  0.00971 -0.00455  0.02851 -0.00509  0.03928  0.00104  0.03105
[1985] -0.00527 -0.00622 -0.01313  0.00844  0.01911 -0.00716  0.02035  0.00322
[1993]  0.02838 -0.00207  0.00312 -0.03070 -0.00155  0.00550 -0.01370  0.01611
[2001]  0.01777 -0.00867  0.00273 -0.00441  0.02741  0.01231 -0.01379 -0.01717
[2009] -0.01257 -0.01212 -0.01669 -0.04142  0.00051 -0.02986  0.01100 -0.02311
[2017] -0.01399  0.04566  0.01072 -0.00715 -0.03420 -0.01075  0.00355 -0.01241
[2025] -0.00368  0.00515 -0.02503 -0.00704  0.02030  0.00848 -0.00963 -0.00955
[2033]  0.00114  0.00355  0.03590 -0.00388  0.01111 -0.01389 -0.00837  0.00695
[2041] -0.00037 -0.02509  0.01186 -0.00387  0.03552 -0.04031  0.01595 -0.01191
[2049] -0.04137  0.00501 -0.00095  0.00000 -0.03070 -0.00756 -0.00362  0.00624
[2057]  0.00278  0.00444 -0.00220  0.00127  0.02631  0.02657 -0.00945 -0.00626
[2065] -0.01504 -0.01302 -0.00225 -0.02292 -0.00599 -0.02001 -0.01592 -0.01496
[2073] -0.00778  0.02397 -0.00334  0.00829 -0.00573 -0.01648 -0.02936  0.00601
[2081] -0.00621 -0.00442 -0.01741  0.00340  0.00122  0.01365  0.00292  0.01406
[2089]  0.00287 -0.01084 -0.01082  0.01993  0.01212  0.00130 -0.02054 -0.01584
[2097] -0.00384 -0.01250 -0.00120  0.00555  0.00382  0.02012 -0.00330  0.02982
[2105]  0.01158  0.01299  0.00284  0.01910  0.00747  0.00779 -0.01161 -0.02337
[2113] -0.01398  0.00793 -0.01541 -0.00678 -0.01074  0.01451 -0.00022  0.01445
[2121] -0.00728 -0.00832  0.00390 -0.00589 -0.00312 -0.00853 -0.04292 -0.01575
[2129]  0.00752 -0.01058 -0.00232 -0.01553 -0.00707 -0.00248 -0.02964  0.01080
[2137] -0.00571 -0.01191 -0.01236  0.01000  0.02065  0.01199 -0.00648 -0.00151
[2145] -0.01001 -0.02659  0.02067  0.00835 -0.00721  0.00479  0.00125 -0.00620
[2153] -0.01292 -0.00261 -0.00568  0.00491  0.01210 -0.00530  0.00078 -0.01713
[2161] -0.00045 -0.00808  0.01370 -0.00158 -0.00976  0.01982  0.00012 -0.00593
[2169]  0.00857 -0.00534 -0.00646 -0.00925 -0.00237  0.00032  0.00502 -0.02105
[2177] -0.00258 -0.01081 -0.00443  0.00208  0.00999  0.00178  0.00852  0.00152
[2185]  0.01770  0.00369  0.01230 -0.00049  0.00779  0.01629 -0.01033 -0.02466
[2193] -0.01109 -0.00441  0.01046  0.01257  0.00432  0.01385  0.00559  0.01467
[2201]  0.00248  0.02412  0.00184 -0.00355 -0.01404 -0.00591 -0.01379 -0.00796
[2209]  0.01656 -0.00809  0.00651 -0.01470 -0.00231  0.01805  0.01380  0.00246
[2217] -0.00819 -0.02772  0.00416  0.01719  0.02701 -0.00728  0.02289 -0.00620
[2225] -0.01941 -0.00268  0.00237 -0.02737 -0.00253 -0.00596  0.04325  0.00335
[2233] -0.02026  0.02656  0.00055 -0.02084 -0.00147 -0.01152  0.03408 -0.02762
[2241] -0.00772 -0.01168 -0.00981  0.02023 -0.01694 -0.00821 -0.01132  0.00770
[2249] -0.01917  0.00001  0.02040  0.00940  0.00099  0.00832 -0.02427  0.00812
[2257]  0.00422  0.02715  0.01519  0.00600 -0.00648  0.02452  0.00550 -0.00202
[2265] -0.00960 -0.00774  0.00000  0.01686  0.00659 -0.00364  0.01861 -0.00764
[2273] -0.01266 -0.01553 -0.01779 -0.01498  0.02087 -0.01201  0.00881 -0.00526
[2281]  0.00759 -0.01739  0.00071 -0.01504  0.02080  0.02272 -0.01227  0.00978
[2289]  0.02549 -0.00402  0.00231  0.00536 -0.01603  0.01133 -0.00628  0.01638
[2297]  0.01013  0.01779 -0.00523  0.01935  0.00835 -0.02474 -0.00886 -0.02277
[2305]  0.00655 -0.00604  0.00975 -0.01320 -0.00567  0.00135  0.00914 -0.00934
[2313]  0.02312 -0.00465  0.01009  0.00585  0.00209 -0.01692  0.00974  0.00592
[2321]  0.01096 -0.00138  0.02530 -0.00528  0.01051 -0.00598 -0.02696 -0.00020
[2329] -0.01415 -0.00715 -0.02938  0.00743 -0.01089  0.01452  0.00945  0.01217
[2337] -0.01461  0.00711 -0.00335 -0.02205  0.01886 -0.00470  0.00623  0.00459
[2345] -0.01356  0.01573 -0.00295 -0.01650  0.01435 -0.02364  0.00526 -0.00211
[2353] -0.00254  0.00011  0.00938  0.02089  0.01600  0.00898 -0.00106  0.00445
[2361] -0.02449 -0.00845  0.00180 -0.01299  0.02961 -0.01408  0.00514 -0.01658
[2369] -0.00718 -0.00492 -0.00328  0.02928  0.02728 -0.01321 -0.01566  0.00588
[2377] -0.00155  0.01238  0.00928 -0.00854  0.00274 -0.02064  0.00315  0.02380
[2385]  0.00429 -0.00605 -0.01027  0.00645 -0.00319  0.00787  0.00328 -0.00834
[2393] -0.00524 -0.01285 -0.00852  0.02383 -0.02406 -0.01892 -0.02594  0.01597
[2401] -0.00923 -0.01100  0.00351  0.00920  0.01578 -0.00252 -0.02280 -0.00796
[2409]  0.00804  0.00754 -0.01379  0.01954  0.01402  0.01553 -0.02084  0.00593
[2417] -0.00106 -0.01408 -0.00629  0.02096 -0.02452  0.02693  0.00786  0.02428
[2425] -0.01211  0.01274  0.00568 -0.00625  0.02815  0.00801  0.02225  0.03138
[2433] -0.00820  0.02555 -0.01623 -0.00730  0.00450  0.01782 -0.00716  0.01529
[2441] -0.01779 -0.01678 -0.00848  0.00605 -0.03161 -0.00737  0.04304  0.01957
[2449]  0.00743 -0.00083  0.01277  0.00066 -0.00501  0.00187  0.02062  0.02976
[2457]  0.01223  0.02989  0.00326  0.00989  0.01559  0.02582 -0.01024 -0.00917
[2465]  0.01040  0.02312  0.00343  0.00692 -0.01294  0.00423  0.01742  0.02052
[2473]  0.00173 -0.01311  0.00023 -0.01348  0.02061 -0.00895  0.00000  0.00022
[2481] -0.00636 -0.00408  0.02015  0.01008 -0.00726  0.02107 -0.00148  0.00041
[2489]  0.03634  0.01480 -0.00350  0.00348  0.00248 -0.00224  0.01223  0.00258
[2497]  0.00419 -0.00038  0.00304 -0.01579 -0.01955  0.01761 -0.02176 -0.01638
[2505] -0.02146  0.00316 -0.00152  0.00322 -0.00096  0.00419  0.03863 -0.01313
[2513]  0.01401  0.01144 -0.04701 -0.02290 -0.01157 -0.03599  0.01476  0.00887
[2521] -0.00770  0.01883 -0.00158  0.02330 -0.00138 -0.01654 -0.00363 -0.00887
[2529]  0.00390  0.01632  0.00826 -0.01451  0.00366 -0.01057 -0.01202 -0.00814
[2537] -0.01290 -0.00152 -0.02358 -0.03637  0.02026 -0.00692 -0.01578 -0.01304
[2545] -0.01289 -0.01866  0.00513  0.01113 -0.01814 -0.01783 -0.00411  0.02126
[2553] -0.01310  0.00754 -0.00959  0.00225  0.03020  0.00646 -0.00779 -0.02822
[2561] -0.01006  0.00376  0.00895 -0.00032  0.01038 -0.01389  0.01043  0.02057
[2569]  0.00797  0.00495 -0.01028 -0.01525 -0.00275  0.00171 -0.02480  0.01195
[2577] -0.00221  0.01907  0.00044  0.00447 -0.02656  0.01559 -0.00923 -0.04187
[2585]  0.00374 -0.01113  0.00692  0.00406  0.00682  0.02679  0.00923  0.00039
[2593]  0.02610 -0.00450 -0.00183 -0.00593 -0.02499  0.04516  0.01977 -0.00598
[2601] -0.00757 -0.02809 -0.01974 -0.00198  0.00892 -0.01056 -0.00563  0.00087
[2609] -0.00467 -0.01254  0.00161  0.01506  0.00660  0.00344  0.00676  0.00748
[2617] -0.01898 -0.01105  0.00906  0.00136 -0.00221 -0.01318 -0.02831  0.00339
[2625]  0.03011  0.00257  0.01614  0.00580 -0.00737  0.02757 -0.02205  0.01572
[2633]  0.00501  0.00824 -0.00312 -0.01124  0.00048  0.01516  0.01003  0.01182
[2641]  0.00362  0.00045  0.01238  0.00075 -0.00362 -0.01770 -0.01502 -0.00018
[2649]  0.01205 -0.00566 -0.01989 -0.01710  0.01362  0.00814  0.00775 -0.00491
[2657]  0.01986  0.00198  0.01648  0.01983  0.01315 -0.00199  0.00033  0.00010
[2665] -0.01503 -0.01258 -0.00096  0.02371  0.00852 -0.00587  0.00096  0.01572
[2673]  0.02533 -0.01266  0.00920  0.01465  0.01933  0.02174 -0.02015  0.02396
[2681]  0.00937 -0.01422 -0.00657 -0.01658 -0.01112 -0.02599  0.00180  0.00870
[2689]  0.00556 -0.01204 -0.01506  0.01896  0.00884  0.00014  0.00754 -0.01425
[2697] -0.02616 -0.00700 -0.00324  0.00314 -0.01377 -0.00840 -0.00930  0.00190
[2705] -0.01465  0.00458 -0.00090  0.00590  0.00478 -0.00872  0.01827  0.02033
[2713] -0.00034  0.01537  0.01263 -0.00057  0.00107 -0.01075  0.00280 -0.00764
[2721] -0.01863 -0.00863  0.01512 -0.00369  0.01520  0.02751 -0.01177  0.00380
[2729]  0.00381  0.01186 -0.02402  0.00359  0.00667  0.00676  0.01147 -0.00212
[2737]  0.00964 -0.03981  0.00746 -0.02208  0.00252 -0.00545  0.00068 -0.00961
[2745]  0.01037  0.02853  0.00313 -0.02602 -0.03323 -0.01141  0.02474 -0.00178
[2753]  0.00559 -0.01564 -0.02693  0.04289  0.00111  0.00809 -0.00576 -0.00387
[2761]  0.00586 -0.02763 -0.01047  0.00481 -0.01819  0.00235  0.02368 -0.02333
[2769] -0.02029  0.00552 -0.01166 -0.00515 -0.00429 -0.00716  0.00339  0.01526
[2777]  0.03123  0.01647 -0.02030 -0.00899 -0.01794 -0.00376  0.00618 -0.01613
[2785] -0.01203  0.00851  0.00516  0.02696 -0.00582 -0.00872 -0.00512 -0.00257
[2793] -0.02201 -0.01171  0.00623 -0.00805 -0.00895 -0.00461 -0.01866 -0.00523
[2801]  0.00442  0.00208 -0.00860  0.01923 -0.01256  0.00722 -0.01638 -0.01172
[2809] -0.01717 -0.00420  0.01208  0.01033 -0.00032 -0.02205  0.02960  0.00812
[2817] -0.00747  0.01772  0.01136  0.02452 -0.01141  0.01932 -0.01254  0.00200
[2825]  0.02480  0.01685 -0.00663  0.00484 -0.02646 -0.01094 -0.02155  0.00178
[2833]  0.00545  0.01196 -0.02659 -0.01109 -0.01413  0.01412 -0.00509 -0.01501
[2841] -0.01528 -0.01371  0.01382 -0.01623  0.00178 -0.01941 -0.00826  0.00179
[2849] -0.00786  0.02386  0.00282  0.00694  0.00279  0.00829 -0.01023 -0.00423
[2857]  0.00369 -0.03620  0.01186 -0.00775 -0.02597 -0.00754 -0.00305 -0.00480
[2865] -0.01005 -0.00114  0.02485 -0.03716  0.03041 -0.00085  0.02035 -0.00638
[2873]  0.00027  0.04054  0.00418 -0.01742  0.00083  0.02665 -0.01315 -0.01820
[2881]  0.00988 -0.00437 -0.00726  0.00874  0.00619 -0.00502  0.00793  0.01363
[2889] -0.00429  0.01421 -0.02187  0.01509  0.01548 -0.00275  0.00379 -0.01819
[2897]  0.03235  0.01506 -0.00562 -0.01986  0.00088  0.00288  0.02083 -0.00370
[2905] -0.02062  0.01728 -0.00353  0.00437 -0.04868 -0.00463  0.01780 -0.00426
[2913] -0.02117 -0.00391  0.00756 -0.00759  0.00447 -0.01650  0.02012 -0.00723
[2921] -0.02035 -0.00025 -0.02368  0.01310  0.02372  0.01597 -0.00568 -0.01083
[2929] -0.01688  0.00650 -0.00014 -0.00748 -0.03769  0.00276  0.00697 -0.03176
[2937] -0.01572 -0.00255 -0.00855  0.02286 -0.00197  0.01337  0.00955  0.00189
[2945]  0.00245  0.00158 -0.00377  0.00922  0.03335 -0.01948 -0.00102 -0.00905
[2953] -0.00188 -0.00862 -0.00895 -0.00073  0.01758 -0.01510  0.00644  0.00583
[2961]  0.01077  0.01941  0.02543  0.00462 -0.00387 -0.01199 -0.00783  0.02377
[2969] -0.01293 -0.00426  0.02010 -0.01895  0.01939  0.00176  0.01100 -0.00898
[2977] -0.00967 -0.02518 -0.00581  0.00965  0.02218 -0.00250  0.00407  0.00482
[2985]  0.00929 -0.00348  0.01760 -0.01254 -0.02168 -0.00148 -0.01581  0.00485
[2993] -0.00098  0.01601  0.02394  0.01450  0.00729  0.00782 -0.01744  0.00109
[3001] -0.00870 -0.00237 -0.00595 -0.03690  0.00076  0.01879  0.00667  0.00199
[3009]  0.00270  0.02155  0.00802  0.02180 -0.01311 -0.01899  0.00101  0.00003
[3017]  0.01378  0.00414 -0.02362  0.02525  0.00585 -0.00859  0.00388 -0.00420
[3025]  0.00828 -0.02115 -0.00340  0.02543 -0.00256 -0.01151  0.00795 -0.01152
[3033]  0.00261 -0.00467 -0.00889  0.00574 -0.02776 -0.00449 -0.02878 -0.00765
[3041] -0.00164  0.01302  0.00115  0.00621  0.00784 -0.00226 -0.01902 -0.00675
[3049] -0.00255 -0.00937  0.02817 -0.01441  0.00350  0.00955 -0.00579 -0.00573
[3057] -0.00091 -0.03755  0.02259  0.00237  0.00421  0.01807  0.00921  0.00257
[3065] -0.02466 -0.01382  0.01645  0.00876  0.00110  0.01439  0.00142 -0.00634</code></pre>
</div>
</div>
</div>
</section>
<section id="background-text-embeddings-1" class="slide level2">
<h2>Background: Text Embeddings</h2>
<p>We can measure the similarity between two embeddings using <strong>cosine similarity</strong>.</p>

<img data-src="https://miro.medium.com/v2/resize:fit:915/1*dyH20eCqb6qTL-gt4nCVzQ.png" class="r-stretch quarto-figure-center"></section>
<section id="background-text-embeddings-2" class="slide level2">
<h2>Background: Text Embeddings</h2>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-9_5d2945956245aa085ba5f5456ff68061">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>embeddings <span class="ot">&lt;-</span> fuzzylink<span class="sc">::</span><span class="fu">get_embeddings</span>(<span class="fu">c</span>(<span class="st">'Joe Biden'</span>, <span class="st">'Joseph Robinette Biden'</span>, <span class="st">'Joe Riley'</span>, <span class="st">'Bill Clinton'</span>, <span class="st">'Biff Tannen'</span>, <span class="st">'William Jefferson Clinton'</span>, <span class="st">'United States Post Office'</span>, <span class="st">'UPS'</span>, <span class="st">'American Association of Retired Persons'</span>, <span class="st">'AAA'</span>, <span class="st">'Pacific Gas and Electric'</span>, <span class="st">'PPG Industries'</span>, <span class="st">'USPS'</span>, <span class="st">'AARP'</span>, <span class="st">'PG&amp;E'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-10_79c80a8a432c7291ea6379c52c9b9e2e">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>fuzzylink<span class="sc">::</span><span class="fu">get_similarity_matrix</span>(embeddings,</span>
<span id="cb15-2"><a href="#cb15-2"></a>                                 <span class="fu">c</span>(<span class="st">'William Jefferson Clinton'</span>, <span class="st">'Biff Tannen'</span>), </span>
<span id="cb15-3"><a href="#cb15-3"></a>                                 <span class="st">'Bill Clinton'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          Bill Clinton
William Jefferson Clinton    0.8731766
Biff Tannen                  0.2212812</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-11_ed11c0c45ef4754a7c6640133a2363f7">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>fuzzylink<span class="sc">::</span><span class="fu">get_similarity_matrix</span>(embeddings, </span>
<span id="cb17-2"><a href="#cb17-2"></a>                                 <span class="fu">c</span>(<span class="st">'UPS'</span>, <span class="st">'USPS'</span>),</span>
<span id="cb17-3"><a href="#cb17-3"></a>                                 <span class="st">'United States Post Office'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     United States Post Office
UPS                  0.6032873
USPS                 0.7728268</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-12_791270d5f65000ef06f55ba1e7deef50">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>fuzzylink<span class="sc">::</span><span class="fu">get_similarity_matrix</span>(embeddings, </span>
<span id="cb19-2"><a href="#cb19-2"></a>                                 <span class="fu">c</span>(<span class="st">'AAA'</span>, <span class="st">'AARP'</span>),</span>
<span id="cb19-3"><a href="#cb19-3"></a>                                 <span class="st">'American Association of Retired Persons'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     American Association of Retired Persons
AAA                                0.4848734
AARP                               0.8372187</code></pre>
</div>
</div>
</div>
</section>
<section id="the-fuzzylink-algorithm" class="slide level2">
<h2>The <code>fuzzylink</code> Algorithm</h2>
<ul>
<li class="fragment"><p><strong>Step 1:</strong> Retrieve embeddings for the identifying fields of each record</p></li>
<li class="fragment"><p><strong>Step 2:</strong> Compute cosine similarity matrix</p></li>
<li class="fragment"><p><strong>Step 3:</strong> Use LLM prompt to label a sample of name pairs</p></li>
<li class="fragment"><p><strong>Step 4:</strong> Fit a logistic regression model to predict whether two records match</p></li>
<li class="fragment"><p><strong>Step 5:</strong> Estimate match probabilities for each name pair</p></li>
<li class="fragment"><p><strong>Step 6:</strong> Validate uncertain matches using LLM prompt</p></li>
<li class="fragment"><p>Repeat <strong>Steps 4-6</strong> until no uncertain matches remain</p></li>
</ul>
</section>
<section id="step-1-embeddings" class="slide level2">
<h2>Step 1: Embeddings</h2>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-13_16d457cae49d4afcdf89cabcfcbeb29a">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>all_names <span class="ot">&lt;-</span> <span class="fu">c</span>(presidents<span class="sc">$</span>name, voter_file<span class="sc">$</span>name)</span>
<span id="cb21-2"><a href="#cb21-2"></a>embeddings <span class="ot">&lt;-</span> <span class="fu">get_embeddings</span>(all_names)</span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a>embeddings[<span class="st">'Donald Trump'</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] -0.0005985271 -0.0270447270 -0.0236572700 -0.0577149470  0.0642335100
  [6]  0.0383423530  0.0554444380  0.1041505800 -0.0517823200  0.0485230400
 [11] -0.0285828150  0.1502932500 -0.0633546040 -0.0577149470 -0.0930909900
 [16]  0.0520752900 -0.0520386700 -0.0261658190 -0.1182131000 -0.0162414850
 [21] -0.0364563650  0.0903810260 -0.0639771700 -0.0544922870 -0.0619630030
 [26]  0.0038841318  0.0614503060  0.0131561510  0.0084457550  0.0810792500
 [31]  0.0330872160  0.0682618400  0.0492920800 -0.0253418420  0.0132568600
 [36]  0.1207765860 -0.0019008671 -0.0090042280  0.0108764840 -0.0220459380
 [41] -0.1539553600 -0.0652955250 -0.0770509240 -0.0118286350  0.1207033500
 [46] -0.0001137974 -0.0362000170  0.0653321500 -0.0139984390  0.0996095540
 [51] -0.0168732000 -0.0127166975  0.0007226957  0.0516724600  0.0219910070
 [56]  0.0447144360  0.0048523040 -0.0764649800 -0.0755860700 -0.0004717835
 [61]  0.0632447450 -0.0194824580 -0.0205078500  0.0279053240 -0.0619630030
 [66] -0.0356507000  0.0704957300  0.0449341650  0.0034561220  0.0832765200
 [71]  0.1082521500  0.0129455800  0.0095031910  0.0154358190 -0.0134765870
 [76]  0.0719605800 -0.0129730460 -0.0472779160  0.0265137200  0.0171753240
 [81]  0.0292053740 -0.0251953580  0.1135988400 -0.0369141300 -0.0467286000
 [86]  0.0168182680  0.0230347100 -0.1869144000 -0.0930177500  0.0106659130
 [91]  0.0607911270  0.0618165170  0.0305603570  0.0808595200  0.0466553570
 [96]  0.0287109900 -0.0095306570 -0.0451905130 -0.0164886770 -0.0914064100
[101]  0.0032569945  0.1025392500  0.0200500860 -0.0011856101 -0.0077179093
[106]  0.0800538600  0.0254517070  0.1404787700  0.0193542840  0.1015138550
[111]  0.0517090800 -0.0210937880 -0.0229614680  0.0325745230 -0.0212585830
[116]  0.0288757850 -0.0259644020  0.0165802300 -0.0670167200 -0.0893556300
[121] -0.0657349800 -0.0253784640 -0.0806397940 -0.0459961780 -0.0148041040
[126] -0.0825440960  0.0338379500  0.1241457300  0.0812989800 -0.0026184130
[131] -0.1212892800  0.1488283900 -0.0194458370  0.0447510600 -0.0122040020
[136]  0.1526369900  0.0219177640 -0.0032432615  0.0463990100 -0.0814454600
[141] -0.0251221150  0.1136720800  0.0145294450 -0.0321533800 -0.0149688990
[146] -0.0093933280  0.0057174787 -0.0306336000  0.0834962400  0.0206177120
[151]  0.0310181230 -0.0975587740  0.0557740260 -0.0133575685  0.1114748100
[156]  0.0480835850 -0.0241150330 -0.0111877650  0.0425904100 -0.1163088000
[161] -0.0791017040  0.1082521500 -0.0141266130 -0.0798341260 -0.0146942410
[166] -0.0406494900  0.1387942000  0.0541626960  0.0100525090  0.0605714000
[171] -0.0222473550  0.0071548590 -0.0119842750 -0.0491089750 -0.0959474400
[176]  0.1812015000 -0.0750001400 -0.0645997300  0.0422608200  0.0169830640
[181]  0.1015871000  0.0602784300 -0.0725465200 -0.0213684480 -0.0757325600
[186]  0.0206360240 -0.0409790800  0.0162964170  0.0248291470 -0.1993656000
[191]  0.0128540280 -0.1184328350 -0.0621827300 -0.0349182750  0.0687745360
[196] -0.0676026640 -0.0442383620  0.0095489680 -0.0966798700 -0.0477173700
[201]  0.0867921500  0.0199768430  0.0241150330 -0.0879640300 -0.0244263130
[206] -0.0427368950  0.0403565170  0.0460327980 -0.0268799300  0.0497681570
[211] -0.0629517700 -0.0050766080  0.0414185340  0.0343689600 -0.1170412300
[216]  0.0177704170 -0.0496582950  0.0103088560 -0.0064773676  0.0359802900
[221]  0.0201050170  0.0134948980 -0.0674561800  0.0647095900 -0.0759522840
[226] -0.1125734450 -0.0060791126  0.0845216400 -0.0617798980 -0.0034034790
[231]  0.0379395220 -0.0187042580  0.0325012800  0.0975587740  0.0076217790
[236]  0.0119568090 -0.0640504060 -0.0087249910 -0.0465454940  0.0231262630
[241] -0.0140167490 -0.0625123200  0.0070633064 -0.0041610794  0.1414309100
[246] -0.0458130720 -0.1113283260  0.0388550500 -0.0063171503  0.0193725940
[251] -0.0317139250 -0.0125793680  0.0551514660  0.0026092576  0.0234375430
[256] -0.1096437500</code></pre>
</div>
</div>
</section>
<section id="step-2-cosine-similarities" class="slide level2">
<h2>Step 2: Cosine Similarities</h2>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-14_b2c1628e71ccbe439fb205ca5d71a204">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>sim <span class="ot">&lt;-</span> <span class="fu">get_similarity_matrix</span>(embeddings, presidents<span class="sc">$</span>name, voter_file<span class="sc">$</span>name)</span>
<span id="cb23-2"><a href="#cb23-2"></a></span>
<span id="cb23-3"><a href="#cb23-3"></a>sim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Joseph Robinette Biden Donald John Trump  Barack Hussein Obama
Joe Biden                   0.7665511          0.5532816            0.5309110
Donald Trump                0.4316448          0.8388565            0.4477471
Barack Obama                0.5171871          0.4756583            0.8458046
George W. Bush              0.4942466          0.4877767            0.5681277
Bill Clinton                0.4886684          0.5037386            0.5174360
               George Walker Bush William Jefferson Clinton Biff Tannen
Joe Biden               0.5094280                 0.5426318   0.3016135
Donald Trump            0.4805295                 0.4462709   0.3438074
Barack Obama            0.4854634                 0.5131122   0.2545790
George W. Bush          0.8447483                 0.6113368   0.2458998
Bill Clinton            0.6232500                 0.8731912   0.2213829
               Joe Riley
Joe Biden      0.3906386
Donald Trump   0.2328768
Barack Obama   0.3480991
George W. Bush 0.3606344
Bill Clinton   0.3194544</code></pre>
</div>
</div>
</section>
<section id="step-3-label-a-training-set" class="slide level2">
<h2>Step 3: Label A Training Set</h2>
<p><strong>GPT-4o Prompt:</strong></p>
<p><em>Decide if the following two names refer to the same person. Think carefully. Respond Yes or No.</em></p>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-15_6e9c80c4570df74ab94efbeff341d14e">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>fuzzylink<span class="sc">::</span><span class="fu">check_match</span>(<span class="st">'Joe Biden'</span>, <span class="st">'Joseph Robinette Biden'</span>, </span>
<span id="cb25-2"><a href="#cb25-2"></a>                       <span class="at">record_type =</span> <span class="st">'person'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Yes"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-17_5e55623766a0bdf8eeee82ca4b455825">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>train <span class="ot">&lt;-</span> fuzzylink<span class="sc">::</span><span class="fu">get_training_set</span>(sim, <span class="at">record_type =</span> <span class="st">'person'</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a>train</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 35 × 5
   A              B                             sim    jw match
   &lt;fct&gt;          &lt;fct&gt;                       &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
 1 Bill Clinton   "Biff Tannen"               0.221 0.699 No   
 2 George W. Bush "Joseph Robinette Biden"    0.494 0.520 No   
 3 Bill Clinton   "Joseph Robinette Biden"    0.489 0.480 No   
 4 Joe Biden      "Joseph Robinette Biden"    0.767 0.721 Yes  
 5 Donald Trump   "Donald John Trump "        0.839 0.933 Yes  
 6 Bill Clinton   "Barack Hussein Obama"      0.517 0.56  No   
 7 Barack Obama   "Donald John Trump "        0.476 0.472 No   
 8 Joe Biden      "Donald John Trump "        0.553 0.444 No   
 9 Bill Clinton   "William Jefferson Clinton" 0.873 0.579 Yes  
10 Bill Clinton   "Joe Riley"                 0.319 0.361 No   
# ℹ 25 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="step-4-fit-a-logistic-regression" class="slide level2">
<h2>Step 4: Fit a Logistic Regression</h2>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-18_ec31227ea176d7593cda4344cf8380a5">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(<span class="fu">as.numeric</span>(match <span class="sc">==</span> <span class="st">'Yes'</span>) <span class="sc">~</span> sim <span class="sc">+</span> jw, </span>
<span id="cb29-2"><a href="#cb29-2"></a>             <span class="at">data =</span> train, </span>
<span id="cb29-3"><a href="#cb29-3"></a>             <span class="at">family =</span> <span class="st">'binomial'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-5-estimate-match-probabilities" class="slide level2">
<h2>Step 5: Estimate Match Probabilities</h2>
<div class="cell" data-hash="slides_cache/revealjs/unnamed-chunk-19_5542d2d772536e8a0e442e6a9d64dc48">
<div class="cell-output cell-output-stdout">
<pre><code>                A                         B    sim     jw match_probability
1       Joe Biden    Joseph Robinette Biden 0.7666 0.7208                 1
2    Donald Trump    Joseph Robinette Biden 0.4316 0.4217                 0
3    Barack Obama    Joseph Robinette Biden 0.5172 0.4192                 0
4  George W. Bush    Joseph Robinette Biden 0.4942 0.5200                 0
5    Bill Clinton    Joseph Robinette Biden 0.4887 0.4798                 0
6       Joe Biden        Donald John Trump  0.5533 0.4444                 0
7    Donald Trump        Donald John Trump  0.8389 0.9333                 1
8    Barack Obama        Donald John Trump  0.4757 0.4722                 0
9  George W. Bush        Donald John Trump  0.4878 0.4450                 0
10   Bill Clinton        Donald John Trump  0.5037 0.4648                 0
11      Joe Biden      Barack Hussein Obama 0.5309 0.5352                 0
12   Donald Trump      Barack Hussein Obama 0.4477 0.4889                 0
13   Barack Obama      Barack Hussein Obama 0.8458 0.9200                 1
14 George W. Bush      Barack Hussein Obama 0.5681 0.4373                 0
15   Bill Clinton      Barack Hussein Obama 0.5174 0.5600                 0
16      Joe Biden        George Walker Bush 0.5094 0.3889                 0
17   Donald Trump        George Walker Bush 0.4805 0.5000                 0
18   Barack Obama        George Walker Bush 0.4855 0.3519                 0
19 George W. Bush        George Walker Bush 0.8447 0.9302                 1
20   Bill Clinton        George Walker Bush 0.6232 0.3611                 0
21      Joe Biden William Jefferson Clinton 0.5426 0.5244                 0
22   Donald Trump William Jefferson Clinton 0.4463 0.3722                 0
23   Barack Obama William Jefferson Clinton 0.5131 0.4144                 0
24 George W. Bush William Jefferson Clinton 0.6113 0.4505                 0
25   Bill Clinton William Jefferson Clinton 0.8732 0.5789                 1
26      Joe Biden               Biff Tannen 0.3016 0.5034                 0
27   Donald Trump               Biff Tannen 0.3438 0.3990                 0
28   Barack Obama               Biff Tannen 0.2546 0.4568                 0
29 George W. Bush               Biff Tannen 0.2459 0.2749                 0
30   Bill Clinton               Biff Tannen 0.2214 0.6990                 0
31      Joe Biden                 Joe Riley 0.3906 0.8667                 0
32   Donald Trump                 Joe Riley 0.2329 0.4167                 0
33   Barack Obama                 Joe Riley 0.3481 0.3981                 0
34 George W. Bush                 Joe Riley 0.3606 0.4101                 0
35   Bill Clinton                 Joe Riley 0.3195 0.3611                 0</code></pre>
</div>
</div>
</section>
<section id="step-6-validate-uncertain-matches" class="slide level2">
<h2>Step 6: Validate Uncertain Matches</h2>
<ul>
<li class="fragment"><p>In this toy example, <span class="math inline">\(N_A \times N_B\)</span> is small enough to feasibly validate every record pair.</p></li>
<li class="fragment"><p>But for larger datasets, there is a cost-accuracy tradeoff in how many record pairs we label.</p></li>
<li class="fragment"><p>The final step of the algorithm is an <strong>active learning loop</strong>:</p>
<ul>
<li class="fragment"><p>Label uncertain record pairs with an LLM prompt (estimated probabilities within some user-defined range)</p></li>
<li class="fragment"><p>Refit the model with the new labeled pairs</p></li>
<li class="fragment"><p>Repeat until there are no uncertain record pairs remaining</p></li>
</ul></li>
</ul>
</section>
<section>
<section id="applications" class="title-slide slide level1 center">
<h1>Applications</h1>

</section>
<section id="applications-1" class="slide level2">
<h2>Applications</h2>
<ol type="1">
<li class="fragment">Linking candidate names from California elections (n = 9,025) with voter file (n = 22 million)</li>
<li class="fragment">Linking organization names (n = 1,388) with campaign donation records (n = 2.9 million)</li>
<li class="fragment">Multilingual record linkage. Names of parliamentary political parties in 32 countries since 1900 with their English language translations.</li>
</ol>
<ul>
<li class="fragment"><strong>Three performance metrics:</strong> precision, recall, and calibration of estimated probabilities</li>
</ul>
</section>
<section id="application-1-voter-file" class="slide level2">
<h2>Application 1: Voter File</h2>
<table>
<thead>
<tr class="header">
<th>Name on Ballot</th>
<th>Name in Voter File (L2)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Trish Munro</td>
<td>Patricia Keer Munro</td>
</tr>
<tr class="even">
<td>Betsy Stix</td>
<td>Elizabeth Emily Stix</td>
</tr>
<tr class="odd">
<td>Libby Schaaf</td>
<td>Elizabeth Beckman Schaaf</td>
</tr>
<tr class="even">
<td>Mel Chiong</td>
<td>Carmelita Asiddao Chiong</td>
</tr>
<tr class="odd">
<td>Matt Hummel</td>
<td>Francis Matthew Hummel</td>
</tr>
<tr class="even">
<td>Dick Albright</td>
<td>Richard William Albright</td>
</tr>
<tr class="odd">
<td>Peggy Moore</td>
<td>Margaret Lee Moore</td>
</tr>
</tbody>
</table>
</section>
<section id="application-1-voter-file-1" class="slide level2">
<h2>Application 1: Voter File</h2>
<p>Hand-coded matches for 840 records from three counties for performance validation.</p>
<table>
<thead>
<tr class="header">
<th>Method</th>
<th>Precision</th>
<th>Recall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>fastLink</code></td>
<td>98.6%</td>
<td>58.2%</td>
</tr>
<tr class="even">
<td><code>fuzzylink</code></td>
<td>94.7%</td>
<td>97.2%</td>
</tr>
</tbody>
</table>
</section>
<section id="application-1-voter-file-2" class="slide level2">
<h2>Application 1: Voter File</h2>
<p>Estimated match probabilities well-calibrated; serve as a useful guide for manual validation.</p>

<img data-src="images/fuzzylink-calibration-l2-match%20~%20sim%20+%20jw.png" class="r-stretch"></section>
<section id="application-2-organization-names" class="slide level2">
<h2>Application 2: Organization Names</h2>
<ul>
<li class="fragment"><p>Linked the names of 1,377 organizations that cosigned amicus curiae briefs <span class="citation" data-cites="abi-hassanIdeologiesOrganizedInterests2023">(<a href="#/references" role="doc-biblioref" onclick="">Abi-Hassan et al. 2023</a>)</span> with DIME dataset to estimate ideology.</p></li>
<li class="fragment"><p>Significantly improved recall and 99.3% precision. Located DIME scores for 444 organizations, compared with 376 organizations in <span class="citation" data-cites="abi-hassanIdeologiesOrganizedInterests2023">(<a href="#/references" role="doc-biblioref" onclick="">Abi-Hassan et al. 2023</a>)</span>.</p></li>
</ul>
</section>
<section id="application-2-organization-names-1" class="slide level2">
<h2>Application 2: Organization Names</h2>
<ul>
<li class="fragment"><p><code>fuzzylink</code> correctly identified several alternate and former names for organizations:</p>
<ul>
<li class="fragment"><p>“Utah Association for Justice” = “Utah Trial Lawyers Association”</p></li>
<li class="fragment"><p>“Ojibwe” = “Chippewa”</p></li>
<li class="fragment"><p>“RELX” = “Reed Elsevier”</p></li>
</ul></li>
</ul>
</section>
<section id="application-3-multilingual-records" class="slide level2">
<h2>Application 3: Multilingual Records</h2>
<p>Artificially split the Parlgov dataset into two datasets with 4,972 records each.</p>
<table>
<colgroup>
<col style="width: 17%">
<col style="width: 20%">
<col style="width: 53%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th>county_name</th>
<th>election_date</th>
<th>party_name</th>
<th>seats</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Austria</td>
<td>1919-02-16</td>
<td>Sozialdemokratische Partei Österreichs</td>
<td>72</td>
</tr>
<tr class="even">
<td>Austria</td>
<td>1919-02-16</td>
<td>Österreichische Volkspartei</td>
<td>69</td>
</tr>
<tr class="odd">
<td>Austria</td>
<td>1919-02-16</td>
<td>Deutschnationale</td>
<td>8</td>
</tr>
</tbody>
</table>
</section>
<section id="application-3-multilingual-records-1" class="slide level2">
<h2>Application 3: Multilingual Records</h2>
<p>Artificially split the Parlgov dataset into two datasets with 4,972 records each.</p>
<table>
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 45%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>county_name</th>
<th>election_date</th>
<th>party_name</th>
<th>left_right</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Austria</td>
<td>1919-02-16</td>
<td>Social Democratic Party of Austria</td>
<td>3.72</td>
</tr>
<tr class="even">
<td>Austria</td>
<td>1919-02-16</td>
<td>Austrian People’s Party</td>
<td>6.47</td>
</tr>
<tr class="odd">
<td>Austria</td>
<td>1919-02-16</td>
<td>German-Nationals</td>
<td>7.4</td>
</tr>
</tbody>
</table>
</section>
<section id="application-3-multilingual-records-2" class="slide level2">
<h2>Application 3: Multilingual Records</h2>
<ul>
<li class="fragment"><p>Matched by party name, blocking on country-year.</p></li>
<li class="fragment"><p>Correctly linked 4,805 name pairs out of 4,972.</p>
<ul>
<li class="fragment"><p><strong>Recall:</strong> 97%</p></li>
<li class="fragment"><p><strong>Precision:</strong> 96%</p></li>
</ul></li>
</ul>
</section>
<section id="application-3-multilingual-records-3" class="slide level2">
<h2>Application 3: Multilingual Records</h2>

<img data-src="images/ideology-time-series.png" class="r-stretch"></section>
<section id="conclusions" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li class="fragment"><p>For problems where records may be represented by lexically dissimilar strings, proposed approach significantly outperforms existing methods</p></li>
<li class="fragment"><p>Fast and cheap. Applications required a few dollars in API fees and a few minutes / hours runtime (depending on blocking variables).</p></li>
</ul>
</section>
<section id="conclusions-1" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li class="fragment"><p>Should we be relying on closed-sourced language models and embeddings <span class="citation" data-cites="spirlingWhyOpensourceGenerative2023">(<a href="#/references" role="doc-biblioref" onclick="">Spirling 2023</a>)</span>?</p>
<ul>
<li class="fragment"><p>Replicated applications with Mistral open-source models; performance is not as good.</p></li>
<li class="fragment"><p>Available as option in <code>fuzzylink</code> package</p></li>
</ul></li>
<li class="fragment"><p>Focused in this paper on applications with a single fuzzy matching string. Future work:</p>
<ul>
<li class="fragment"><p>Multiple fuzzy string identifiers</p></li>
<li class="fragment"><p>Geographic identifiers</p></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="thank-you" class="title-slide slide level1 center">
<h1>Thank You!</h1>
<div class="columns">
<div class="column">
<p>Paper:</p>
<p><img data-src="images/qr-paper.png"></p>
</div><div class="column">
<p><code>fuzzylink</code> R package:</p>
<p><img data-src="images/qr-fuzzylink.png"></p>
</div>
</div>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div class="footer footer-default">

</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-abi-hassanIdeologiesOrganizedInterests2023" class="csl-entry" role="listitem">
Abi-Hassan, Sahar, Janet M. Box-Steffensmeier, Dino P. Christenson, Aaron R. Kaufman, and Brian Libgober. 2023. <span>“The Ideologies of Organized Interests and Amicus Curiae Briefs: Large-Scale, Social Network Imputation of Ideal Points.”</span> <em>Political Analysis</em> 31 (3): 396–413. <a href="https://doi.org/10.1017/pan.2022.34">https://doi.org/10.1017/pan.2022.34</a>.
</div>
<div id="ref-jaro1989" class="csl-entry" role="listitem">
Jaro, Matthew A. 1989. <span>“Advances in Record-Linkage Methodology as Applied to Matching the 1985 Census of Tampa, Florida.”</span> <em>Journal of the American Statistical Association</em> 84 (406): 414–20. <a href="https://doi.org/10.1080/01621459.1989.10478785">https://doi.org/10.1080/01621459.1989.10478785</a>.
</div>
<div id="ref-kaufman2022" class="csl-entry" role="listitem">
Kaufman, Aaron R., and Aja Klevs. 2022. <span>“Adaptive Fuzzy String Matching: How to Merge Datasets with Only One (Messy) Identifying Field.”</span> <em>Political Analysis</em> 30 (4): 590–96. <a href="https://doi.org/10.1017/pan.2021.38">https://doi.org/10.1017/pan.2021.38</a>.
</div>
<div id="ref-spirlingWhyOpensourceGenerative2023" class="csl-entry" role="listitem">
Spirling, Arthur. 2023. <span>“Why Open-Source Generative AI Models Are an Ethical Way Forward for Science.”</span> <em>Nature</em> 616 (7957): 413–13. <a href="https://doi.org/10.1038/d41586-023-01295-4">https://doi.org/10.1038/d41586-023-01295-4</a>.
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>