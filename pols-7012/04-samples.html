<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joe Ornstein">

<title>Introduction to Political Methodology - Week 4: Samples</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./img/favicon_io/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Introduction to Political Methodology</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./syllabus/POLS-7012-syllabus.pdf" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-schedule" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Schedule</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-schedule">    
        <li class="dropdown-header">PART 1: FUNDAMENTALS</li>
        <li>
    <a class="dropdown-item" href="./01-introduction.html" rel="" target="">
 <span class="dropdown-text">Week 1: Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02-writing-code.html" rel="" target="">
 <span class="dropdown-text">Week 2: Writing Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03-experiments.html" rel="" target="">
 <span class="dropdown-text">Week 3: Experiments</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04-samples.html" rel="" target="">
 <span class="dropdown-text">Week 4: Samples</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./05-linear-model.html" rel="" target="">
 <span class="dropdown-text">Week 5: The Linear Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./06-causality.html" rel="" target="">
 <span class="dropdown-text">Week 6: Causality</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./07-probability.html" rel="" target="">
 <span class="dropdown-text">Week 7: Probability</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./08-uncertainty.html" rel="" target="">
 <span class="dropdown-text">Week 8: Uncertainty</span></a>
  </li>  
        <li class="dropdown-header">PART 2: APPLICATIONS</li>
        <li>
    <a class="dropdown-item" href="./09-visualization.html" rel="" target="">
 <span class="dropdown-text">Week 9: Data Visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./10-wrangling.html" rel="" target="">
 <span class="dropdown-text">Week 10: Data Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./11-tidying.html" rel="" target="">
 <span class="dropdown-text">Week 11: Data Tidying</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./12-importing-exporting.html" rel="" target="">
 <span class="dropdown-text">Week 12: Data Importing/Exporting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./13-joining.html" rel="" target="">
 <span class="dropdown-text">Week 13: Data Joining</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./14-wrap-up.html" rel="" target="">
 <span class="dropdown-text">Weeks 14-15: Wrapping Up</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://uga.view.usg.edu/d2l/home/3240411" rel="" target=""><i class="bi bi-mortarboard-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://app.perusall.com/courses/introduction-to-political-methodology/" rel="" target=""><i class="bi bi-book-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/joeornstein/intro-political-methodology" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#reading" id="toc-reading" class="nav-link active" data-scroll-target="#reading">Reading</a></li>
  <li><a href="#problem-set" id="toc-problem-set" class="nav-link" data-scroll-target="#problem-set">Problem Set</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 4: Samples</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joe Ornstein </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>This week we discuss the challenges involved in making inferences about a population based on an observed sample. By the end of this week, you will be able to:</p>
<ul>
<li><p>Describe the conditions under which a sample is representative of a population of interest, and the challenges involved in obtaining a representative sample.</p></li>
<li><p>Compute and interpret a variety of summary statistics from data, including frequency tables, median, variance, standard deviation, covariance, and correlation coefficient.</p></li>
<li><p>Produce basic data visualizations like histograms and scatter plots.</p></li>
</ul>
<section id="reading" class="level1">
<h1>Reading</h1>
<ul>
<li><strong>DAFSS</strong> Chapter 3</li>
</ul>
</section>
<section id="problem-set" class="level1">
<h1>Problem Set</h1>
<p>This problem set is based on <span class="citation" data-cites="kingEnhancingValidityCrossCultural2004">King et al. (<a href="#ref-kingEnhancingValidityCrossCultural2004" role="doc-biblioref">2004</a>)</span>, a study of cross-cultural comparability in survey research.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Essentially, the authors want to know whether people from very different contexts are likely to interpret survey questions in the same way. If you ask someone in China how much of a voice they have in government on a scale from 1-5, will they interpret those numbers in the same way as a survey respondent in Mexico? If not, then it’s going to be difficult to make cross-country comparisons on the basis of such survey data.</p>
<p>The authors come up with a clever way to help deal with this problem. First, they ask respondents the following question to try to gauge <strong>political efficacy</strong>.</p>
<blockquote class="blockquote">
<p>How much say do you have in getting the government to address issues that interest you?</p>
<p>(1) No say at all</p>
<p>(2) Little say</p>
<p>(3) Some say</p>
<p>(4) A lot of say</p>
<p>(5) Unlimited say</p>
</blockquote>
<p>Then they provide a series of <em>vignettes</em> about fictional people and ask the respondents to rate the political efficacy of the people in the vignettes. The idea is that by providing an “anchor” on which to gauge what different people mean by different responses, we can begin to make valid interpersonal comparisons.</p>
<p>The vignettes read:</p>
<blockquote class="blockquote">
<p>“[Alison] lacks clean drinking water. She and her neighbors are supporting an opposition candidate in the forthcoming elections that has promised to address the issue. It appears that so many people in her area feel the same way that the opposition candidate will defeat the incumbent representative.”</p>
</blockquote>
<blockquote class="blockquote">
<p>“[Jane] lacks clean drinking water because the government is pursuing an industrial development plan. In the campaign for an upcoming election, an opposition party has promised to address the issue, but she feels it would be futile to vote for the opposition since the government is certain to win.”</p>
</blockquote>
<blockquote class="blockquote">
<p>“[Moses] lacks clean drinking water. He would like to change this, but he can’t vote, and feels that no one in the government cares about this issue. So he suffers in silence, hoping something will be done in the future.”</p>
</blockquote>
<p>After reading each vignette, respondents are asked “How much say does [name] have in getting the government to address issues that interest [him/her]?”, with the same set of responses as the original question above.</p>
<p>Load the <a href="data/vignettes.csv">vignettes.csv</a> dataset and you will find a dataset with 6 variables.</p>
<ul>
<li><p><code>self</code>: the self-assessment response</p></li>
<li><p><code>alison</code>, <code>jane</code>, <code>moses</code>: responses to each vignette</p></li>
<li><p><code>china</code>: 1 for Chinese respondents, 0 for Mexican respondents</p></li>
<li><p><code>age</code>: age in years</p></li>
</ul>
<p>Please complete the following questions and upload your responses as a knitted R script or Quarto document.</p>
<ol type="1">
<li>Create a proportion table for responses to the self-assessment scale, broken down by country. What percent of Mexican respondents rated themselves as 1 (“no say at all”)? What percent of Chinese respondents? What is the mean response in each country? Based on these measures, does political efficacy appear to be higher in China or Mexico? Is this result surprising to you?</li>
<li>Create histograms of age, one for each country. What is the median age of respondents from each country? How might this affect cross-country comparisons of political efficacy?</li>
<li>Compute the proportion of respondents—again separately for China and Mexico—who rate themselves lower than Moses on the political efficacy scale. How does this result differ from your analysis in problem 1? Give a brief interpretation of the result.</li>
<li>To help deal with the interpersonal incomparability problem, we’re going to create a new variable that measures each respondent’s political self-efficacy <em>relative</em> to their ratings on the three vignettes. First, create a new dataset with just the respondents who ranked Alison <span class="math inline">\(\geq\)</span> Jane and Jane <span class="math inline">\(\geq\)</span> Moses on the political efficacy scale. What percent of respondents thought this was the correct ordering of the vignettes?</li>
<li>In this new dataset, create a variable that represents how respondents rank themselves relative to the three vignettes. The variable should equal 1 if the respondent rated themselves lower than Moses, 2 if rated at least as high as Moses, 3 if rated at least as high as Jane, and 4 if the respondent rated themselves at least as high as Alison. Repeat the analysis from problem 1 with this new dataset. Give a brief interpretation of the result compared to the results obtained in problem 1.</li>
<li>Briefly describe how nonresponse bias might affect our conclusions from a survey about political efficacy?</li>
</ol>
<p>No <strong>Bonus</strong> problem this week! (I make it up to you by including two Bonus problems in Week 12.)</p>
</section>
<section id="additional-resources" class="level1">
<h1>Additional Resources</h1>
<ul>
<li><a href="https://tinystats.github.io/teacups-giraffes-and-statistics/02_bellCurve.html">Teacup Giraffes</a>: Modules 2-5</li>
<li><span class="citation" data-cites="bradleyUnrepresentativeBigSurveys2021">Bradley et al. (<a href="#ref-bradleyUnrepresentativeBigSurveys2021" role="doc-biblioref">2021</a>)</span> is a beautiful exploration of the “Paradox of Big Data”, demonstrating why <em>large</em> samples are not necessarily <em>better</em> samples.</li>
</ul>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-bradleyUnrepresentativeBigSurveys2021" class="csl-entry" role="listitem">
Bradley, Valerie C., Shiro Kuriwaki, Michael Isakov, Dino Sejdinovic, Xiao-Li Meng, and Seth Flaxman. 2021. <span>“Unrepresentative Big Surveys Significantly Overestimated US Vaccine Uptake.”</span> <em>Nature</em>, December, 1–6. <a href="https://doi.org/10.1038/s41586-021-04198-4">https://doi.org/10.1038/s41586-021-04198-4</a>.
</div>
<div id="ref-imaiQuantitativeSocialScience2017" class="csl-entry" role="listitem">
Imai, Kosuke. 2017. <em>Quantitative Social Science: An Introduction</em>. Princeton: Princeton University Press.
</div>
<div id="ref-kingEnhancingValidityCrossCultural2004" class="csl-entry" role="listitem">
King, Gary, Christopher J. L. Murray, Joshua A. Salomon, and Ajay Tandon. 2004. <span>“Enhancing the Validity and Cross-Cultural Comparability of Measurement in Survey Research.”</span> <em>American Political Science Review</em> 98 (1): 191–207. <a href="https://doi.org/10.1017/S000305540400108X">https://doi.org/10.1017/S000305540400108X</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See also chapter 3 of <span class="citation" data-cites="imaiQuantitativeSocialScience2017">Imai (<a href="#ref-imaiQuantitativeSocialScience2017" role="doc-biblioref">2017</a>)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>