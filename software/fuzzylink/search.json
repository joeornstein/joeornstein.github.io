[{"path":"https://joeornstein.github.io/software/fuzzylink/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joe Ornstein. Author, maintainer, copyright holder.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ornstein J (2026). fuzzylink: Probabilistic Record Linkage Using Pretrained Text Embeddings. R package version 0.4.0, https://github.com/joeornstein/fuzzylink.","code":"@Manual{,   title = {fuzzylink: Probabilistic Record Linkage Using Pretrained Text Embeddings},   author = {Joe Ornstein},   year = {2026},   note = {R package version 0.4.0},   url = {https://github.com/joeornstein/fuzzylink}, }"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"fuzzylink","dir":"","previous_headings":"","what":"Probabilistic Record Linkage Using Pretrained Text Embeddings","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"R package fuzzylink implements probabilistic record linkage procedure proposed Ornstein (2025). method allows users merge datasets fuzzy matches key identifying variable. Suppose, example, following two datasets: like procedure correctly identifies records dfB likely matches record dfA. fuzzylink() function performs record linkage single line code. procedure works using pretrained text embeddings construct measure similarity pair names. similarity measures used predictors statistical model estimate probability two name pairs represent entity. See Ornstein (2025) technical details.","code":"dfA #>             name age #> 1      Joe Biden  81 #> 2   Donald Trump  77 #> 3   Barack Obama  62 #> 4 George W. Bush  77 #> 5   Bill Clinton  77 dfB #>                         name #> 1     Joseph Robinette Biden #> 2         Donald John Trump  #> 3       Barack Hussein Obama #> 4         George Walker Bush #> 5  William Jefferson Clinton #> 6 George Herbert Walker Bush #> 7                Biff Tannen #> 8                  Joe Riley #>        hobby #> 1   Football #> 2       Golf #> 3 Basketball #> 4    Reading #> 5  Saxophone #> 6  Skydiving #> 7   Bullying #> 8    Jogging library(fuzzylink) df <- fuzzylink(dfA, dfB, by = 'name', record_type = 'person') df  #>                A #> 1      Joe Biden #> 2   Donald Trump #> 3   Barack Obama #> 4 George W. Bush #> 5   Bill Clinton #>                           B #> 1    Joseph Robinette Biden #> 2        Donald John Trump  #> 3      Barack Hussein Obama #> 4        George Walker Bush #> 5 William Jefferson Clinton #>         sim        jw match #> 1 0.7661285 0.7673401   Yes #> 2 0.8388663 0.9333333   Yes #> 3 0.8457284 0.9200000   Yes #> 4 0.8445312 0.9301587   Yes #> 5 0.8730800 0.5788889   Yes #>   match_probability age      hobby #> 1                 1  81   Football #> 2                 1  77       Golf #> 3                 1  62 Basketball #> 4                 1  77    Reading #> 5                 1  77  Saxophone"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"can install fuzzylink CRAN : can install development version GitHub : also need API access large language model (LLM). fuzzylink package currently supports OpenAI, Mistral, Anthropic Claude LLMs, default using OpenAI unless specified user.","code":"install.packages('fuzzylink') # install.packages(\"devtools\") devtools::install_github(\"joeornstein/fuzzylink\")"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"openai","dir":"","previous_headings":"Installation","what":"OpenAI","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"Sign developer account OpenAI, create API key profile. best performance, strongly recommend purchasing least $5 API credits, significantly increase API rate limits. account created, copy-paste API key following line R code.","code":"library(fuzzylink)  openai_api_key('YOUR API KEY GOES HERE', install = TRUE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"mistral","dir":"","previous_headings":"Installation","what":"Mistral","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"prefer use language models Mistral, can sign account . writing, Mistral requires purchase prepaid credits can access language models API. paid account, can create API key , copy-paste API key following line R code:","code":"library(fuzzylink)  mistral_api_key('YOUR API KEY GOES HERE', install = TRUE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"anthropic","dir":"","previous_headings":"Installation","what":"Anthropic","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"prefer use Anthropic’s Claude models, can sign account . API key, copy-paste following line R code: Now ’re set !","code":"library(fuzzylink)  anthropic_api_key('YOUR API KEY GOES HERE', install = TRUE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"code reproduce example make sure everything working computer. df object links presidents correct name dfB, everything running smoothly! (Note may see warning glm.fit. normal. stats package gets suspicious whenever model fit perfect.)","code":"library(tidyverse) library(fuzzylink)  dfA <- tribble(~name, ~age,                'Joe Biden', 81,                'Donald Trump', 77,                'Barack Obama', 62,                'George W. Bush', 77,                'Bill Clinton', 77)  dfB <- tribble(~name, ~hobby,                'Joseph Robinette Biden', 'Football',                'Donald John Trump ', 'Golf',                'Barack Hussein Obama', 'Basketball',                'George Walker Bush', 'Reading',                'William Jefferson Clinton', 'Saxophone',                'George Herbert Walker Bush', 'Skydiving',                'Biff Tannen', 'Bullying',                'Joe Riley', 'Jogging')  df <- fuzzylink(dfA, dfB, by = 'name', record_type = 'person')  df"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"arguments","dir":"","previous_headings":"Example","what":"Arguments","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"argument specifies name fuzzy matching variable want use link records. dataframes dfA dfB must column name. record_type argument singular noun describing type entity variable represents (e.g. “person”, “organization”, “interest group”, “city”). used part language model prompt training statistical model. instructions argument string containing additional instructions include language model prompt. Format like format instructions human research assistant, including relevant information think help model make accurate classifications. model argument specifies language model prompt. defaults OpenAI’s 'gpt-5.2', also accepts Mistral models (e.g. 'mistral-large-latest') Anthropic Claude models (e.g. 'claude-sonnet-4-5-20250929'). simpler problems, can try 'gpt-3.5-turbo-instruct', significantly reduce cost runtime. embedding_model argument specifies pretrained text embeddings use modeling match probability. defaults OpenAI’s ‘text-embedding-3-large’, also accept ‘text-embedding-3-small’ Mistral’s ‘mistral-embed’. Several parameters—including p, k, embedding_dimensions, max_validations, parallel—advanced users wish customize behavior algorithm. See package documentation details. variables must match exactly order link two records, want include blocking.variables argument. practical matter, strongly recommend including blocking variables wherever possible, reduce time cost necessary compute pairwise distance metrics. Suppose, example, two illustrative datasets column called state, want instruct fuzzylink() link people live within state. Note Donald Trump listed two different states—New York dfA Florida dfB–fuzzylink() function longer returns match record; blocking variables must match exactly function link two records together. can specify many blocking variables needed inputting column names vector. function returns additional columns along merged dataframe. column match_probability reports model’s estimated probability pair records refer entity. column used aid validation can used computing weighted averages record dfA matched multiple records dFB. columns sim jw string distance measures model uses predict whether two records match. included blocking.variables function call, column called block ID variable denoting block records belong .","code":"dfA <- tribble(~name, ~state, ~age,                'Joe Biden', 'Delaware', 81,                'Donald Trump', 'New York', 77,                'Barack Obama', 'Illinois', 62,                'George W. Bush', 'Texas', 77,                'Bill Clinton', 'Arkansas', 77)  dfB <- tribble(~name, ~state, ~hobby,                'Joseph Robinette Biden', 'Delaware', 'Football',                'Donald John Trump ', 'Florida', 'Golf',                'Barack Hussein Obama', 'Illinois', 'Basketball',                'George Walker Bush', 'Texas', 'Reading',                'William Jefferson Clinton', 'Arkansas', 'Saxophone',                'George Herbert Walker Bush', 'Texas', 'Skydiving',                'Biff Tannen', 'California', 'Bullying',                'Joe Riley', 'South Carolina', 'Jogging') df <- fuzzylink(dfA, dfB,                  by = 'name',                 blocking.variables = 'state',                 record_type = 'person') df #>                A #> 1      Joe Biden #> 2   Barack Obama #> 3 George W. Bush #> 4   Bill Clinton #> 5   Donald Trump #>                           B #> 1    Joseph Robinette Biden #> 2      Barack Hussein Obama #> 3        George Walker Bush #> 4 William Jefferson Clinton #> 5                      <NA> #>         sim block        jw match #> 1 0.7661773     1 0.7673401   Yes #> 2 0.8457001     3 0.9200000   Yes #> 3 0.8446921     4 0.9301587   Yes #> 4 0.8732265     5 0.5788889   Yes #> 5        NA    NA        NA  <NA> #>   match_probability    state age #> 1                 1 Delaware  81 #> 2                 1 Illinois  62 #> 3                 1    Texas  77 #> 4                 1 Arkansas  77 #> 5                NA New York  77 #>        hobby #> 1   Football #> 2 Basketball #> 3    Reading #> 4  Saxophone #> 5       <NA>"},{"path":"https://joeornstein.github.io/software/fuzzylink/index.html","id":"a-note-on-cost","dir":"","previous_headings":"","what":"A Note On Cost","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings","text":"fuzzylink() function makes several calls OpenAI API—charges per-token fee—monetary cost associated use. Based package defaults API pricing February 2026, table approximate costs merging datasets various sizes. Note cost scales quickly size dfA dfB, costly complete LLM prompts validation retrieve embeddings. particularly large datasets, one can reduce costs using GPT-3.5 (model = 'gpt-3.5-turbo-instruct'), blocking (blocking.variables), reducing maximum number pairs labeled LLM (max_labels).","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 fuzzylink authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/anthropic_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","title":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","text":"function add Anthropic API key .Renviron file can called securely without stored code. installed key, can called time typing Sys.getenv(\"ANTHROPIC_API_KEY\") automatically called package functions. .Renviron file, function create one . already .Renviron file, function append key existing file, making backup original file disaster recovery purposes.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/anthropic_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","text":"","code":"anthropic_api_key(key, overwrite = FALSE, install = FALSE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/anthropic_api_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","text":"key API key provided Anthropic formatted quotes. key can acquired https://console.anthropic.com/settings/keys overwrite set TRUE, overwrite existing ANTHROPIC_API_KEY already .Renviron file. install TRUE, install key .Renviron file use future sessions.  Defaults FALSE.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/anthropic_api_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","text":"return value, called side effects.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/anthropic_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install an ANTHROPIC API KEY in Your .Renviron File for Repeated Use — anthropic_api_key","text":"","code":"if (FALSE) { # \\dontrun{ anthropic_api_key(\"111111abc\", install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"ANTHROPIC_API_KEY\") } # }  if (FALSE) { # \\dontrun{ # If you need to overwrite an existing key: anthropic_api_key(\"111111abc\", overwrite = TRUE, install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"ANTHROPIC_API_KEY\") } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/check_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Test whether two strings match with an LLM prompt. — check_match","title":"Test whether two strings match with an LLM prompt. — check_match","text":"Test whether two strings match LLM prompt.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/check_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test whether two strings match with an LLM prompt. — check_match","text":"","code":"check_match(   string1,   string2,   model = \"gpt-5.2\",   record_type = \"entity\",   instructions = NULL,   openai_api_key = Sys.getenv(\"OPENAI_API_KEY\"),   parallel = TRUE )"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/check_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test whether two strings match with an LLM prompt. — check_match","text":"string1 string vector strings string2 string vector strings model LLM prompt; defaults 'gpt-5.2'. Also accepts Mistral models (e.g. 'mistral-large-latest') Anthropic Claude models (e.g. 'claude-sonnet-4-5-20250929'). record_type character describing type entity string1 string2 represent. singular noun (e.g. \"person\", \"organization\", \"interest group\", \"city\"). instructions string containing additional instructions include LLM prompt. openai_api_key OpenAI API key. default, looks system environment variable called \"OPENAI_API_KEY\" (recommended option). Otherwise, prompt enter API key argument. parallel TRUE submit API requests parallel. Setting FALSE can reduce rate limit errors expense longer runtime.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/check_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test whether two strings match with an LLM prompt. — check_match","text":"vector length string1 string2. \"Yes\" pair strings match, \"\" otherwise.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/check_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test whether two strings match with an LLM prompt. — check_match","text":"","code":"if (FALSE) { # \\dontrun{ check_match('UPS', 'United Parcel Service') check_match('UPS', 'United States Postal Service') check_match(c('USPS', 'USPS', 'USPS'),             c('Post Office', 'United Parcel', 'US Postal Service')) } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/dot.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the dot product between two vectors — dot","title":"Compute the dot product between two vectors — dot","text":"Compute dot product two vectors","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/dot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the dot product between two vectors — dot","text":"","code":"dot(vec1, vec2)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/dot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the dot product between two vectors — dot","text":"vec1 numeric vector vec2 Another numeric vector","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/dot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the dot product between two vectors — dot","text":"numeric","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/dot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the dot product between two vectors — dot","text":"","code":"dot(c(0,1), c(1,0)) #> [1] 0"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/fuzzylink.html","id":null,"dir":"Reference","previous_headings":"","what":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","text":"Probabilistic Record Linkage Using Pretrained Text Embeddings","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/fuzzylink.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","text":"","code":"fuzzylink(   dfA,   dfB,   by,   blocking.variables = NULL,   verbose = TRUE,   record_type = \"entity\",   instructions = NULL,   model = \"gpt-5.2\",   openai_api_key = Sys.getenv(\"OPENAI_API_KEY\"),   embedding_dimensions = 256,   embedding_model = \"text-embedding-3-large\",   learner = \"glm\",   fmla = match ~ sim + jw,   max_labels = 10000,   parallel = TRUE,   return_all_pairs = FALSE )"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/fuzzylink.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","text":"dfA, dfB pair data frames data frame extensions (e.g. tibbles) character denoting name variable use fuzzy matching blocking.variables character vector variables must match exactly order match two records verbose TRUE print progress updates, FALSE output record_type character describing type entity variable represents. singular noun (e.g. \"person\", \"organization\", \"interest group\", \"city\"). instructions string containing additional instructions include LLM prompt validation. model LLM prompt validating matches; defaults 'gpt-5.2'. Also accepts Mistral models (e.g. 'mistral-large-latest') Anthropic Claude models (e.g. 'claude-sonnet-4-5-20250929'). openai_api_key OpenAI API key. default, looks system environment variable called \"OPENAI_API_KEY\" (recommended option). Otherwise, prompt enter API key argument. embedding_dimensions dimension embedding vectors retrieve. Defaults 256 embedding_model pretrained embedding model use; defaults 'text-embedding-3-large' (OpenAI), also accept 'mistral-embed' (Mistral). learner supervised learner used predict match probabilities. Defaults logistic regression ('glm'), also accept random forest ('ranger'). fmla default, logistic regression model predicts whether two records match linear combination embedding similarity Jaro-Winkler similarity (match ~ sim + jw). Change input alternate specifications. max_labels maximum number LLM prompts submit labeling record pairs. Defaults 10,000 parallel TRUE submit API requests parallel. Setting FALSE can reduce rate limit errors expense longer runtime. return_all_pairs TRUE, returns every within-block record pair dfA dfB, just validated pairs. Defaults FALSE.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/fuzzylink.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","text":"dataframe rows dfA joined matches dfB","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/fuzzylink.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Probabilistic Record Linkage Using Pretrained Text Embeddings — fuzzylink","text":"","code":"if (FALSE) { # \\dontrun{ dfA <- data.frame(state.x77) dfA$name <- rownames(dfA) dfB <- data.frame(name = state.abb, state.division) df <- fuzzylink(dfA, dfB,                 by = 'name',                 record_type = 'US state government',                 instructions = 'The second dataset contains US postal codes.') } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_embeddings.html","id":null,"dir":"Reference","previous_headings":"","what":"Get pretrained text embeddings — get_embeddings","title":"Get pretrained text embeddings — get_embeddings","text":"Get pretrained text embeddings OpenAI Mistral API. Automatically batches requests handle rate limits.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_embeddings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get pretrained text embeddings — get_embeddings","text":"","code":"get_embeddings(   text,   model = \"text-embedding-3-large\",   dimensions = 256,   openai_api_key = Sys.getenv(\"OPENAI_API_KEY\"),   parallel = TRUE )"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_embeddings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get pretrained text embeddings — get_embeddings","text":"text character vector model embedding model use. Defaults 'text-embedding-3-large'. dimensions dimension embedding vectors return. Defaults 256. Note 'mistral-embed' model always return 1024 vectors. openai_api_key OpenAI API key. default, looks system environment variable called \"OPENAI_API_KEY\". parallel TRUE submit API requests parallel. Setting FALSE can reduce rate limit errors expense longer runtime.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_embeddings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get pretrained text embeddings — get_embeddings","text":"matrix embedding vectors (one per row).","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_embeddings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get pretrained text embeddings — get_embeddings","text":"","code":"if (FALSE) { # \\dontrun{ embeddings <- get_embeddings(c('dog', 'cat', 'canine', 'feline')) embeddings['dog',] |> dot(embeddings['canine',]) embeddings['dog',] |> dot(embeddings['feline',]) } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_similarity_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create matrix of embedding similarities — get_similarity_matrix","title":"Create matrix of embedding similarities — get_similarity_matrix","text":"Create matrix pairwise similarities string strings_A strings_B.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_similarity_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create matrix of embedding similarities — get_similarity_matrix","text":"","code":"get_similarity_matrix(embeddings, strings_A = NULL, strings_B = NULL)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_similarity_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create matrix of embedding similarities — get_similarity_matrix","text":"embeddings matrix text embeddings strings_A string vector strings_B string vector","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_similarity_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create matrix of embedding similarities — get_similarity_matrix","text":"matrix cosine similarities embeddings strings_A embeddings strings_B","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_similarity_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create matrix of embedding similarities — get_similarity_matrix","text":"","code":"if (FALSE) { # \\dontrun{ embeddings <- get_embeddings(c('UPS', 'USPS', 'Postal Service')) get_similarity_matrix(embeddings) get_similarity_matrix(embeddings, 'Postal Service') get_similarity_matrix(embeddings, 'Postal Service', c('UPS', 'USPS')) } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_training_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a training set — get_training_set","title":"Create a training set — get_training_set","text":"Creates training set list similarity matrices labels using zero-shot GPT prompt.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_training_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a training set — get_training_set","text":"","code":"get_training_set(   sim,   num_bins = 50,   samples_per_bin = 10,   n = 500,   record_type = \"entity\",   instructions = NULL,   model = \"gpt-3.5-turbo-instruct\",   openai_api_key = Sys.getenv(\"OPENAI_API_KEY\"),   parallel = TRUE )"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_training_set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a training set — get_training_set","text":"sim matrix similarity scores num_bins Number bins split similarity scores stratified random sampling (defaults 50) samples_per_bin Number string pairs sample bin (defaults 5) n Sample size training dataset record_type character describing type entity rows columns sim represent. singular noun (e.g. \"person\", \"organization\", \"interest group\", \"city\"). instructions string containing additional instructions include LLM prompt validation. model OpenAI model prompt; defaults 'gpt-3.5-turbo-instruct' openai_api_key OpenAI API key. default, looks system environment variable called \"OPENAI_API_KEY\" (recommended option). Otherwise, prompt enter API key argument. parallel TRUE submit API requests parallel. Setting FALSE can reduce rate limit errors expense longer runtime.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/get_training_set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a training set — get_training_set","text":"dataset string pairs B, along match column indicating whether match.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/hand_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Hand Label A Dataset — hand_label","title":"Hand Label A Dataset — hand_label","text":"function prompts user manually label set name pairs R console.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/hand_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hand Label A Dataset — hand_label","text":"","code":"hand_label(df)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/hand_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hand Label A Dataset — hand_label","text":"df dataframe column called column called B","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/hand_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hand Label A Dataset — hand_label","text":"labeled dataframe (match column)","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/mistral_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","title":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","text":"function add Mistral API key .Renviron file can called securely without stored code. installed key, can called time typing Sys.getenv(\"MISTRAL_API_KEY\") automatically called package functions. .Renviron file, function create one . already .Renviron file, function append key existing file, making backup original file disaster recovery purposes.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/mistral_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","text":"","code":"mistral_api_key(key, overwrite = FALSE, install = FALSE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/mistral_api_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","text":"key API key provided Mistral formated quotes. key can acquired https://console.mistral.ai/api-keys/ overwrite set TRUE, overwrite existing MISTRAL_API_KEY already .Renviron file. install TRUE, install key .Renviron file use future sessions.  Defaults FALSE.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/mistral_api_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","text":"return value, called side effects.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/mistral_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install a MISTRAL API KEY in Your .Renviron File for Repeated Use — mistral_api_key","text":"","code":"if (FALSE) { # \\dontrun{ mistral_api_key(\"111111abc\", install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"MISTRAL_API_KEY\") } # }  if (FALSE) { # \\dontrun{ # If you need to overwrite an existing key: mistral_api_key(\"111111abc\", overwrite = TRUE, install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"MISTRAL_API_KEY\") } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/openai_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","title":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","text":"function add OpenAI API key .Renviron file can called securely without stored code. installed key, can called time typing Sys.getenv(\"OPENAI_API_KEY\") automatically called package functions. .Renviron file, function create one . already .Renviron file, function append key existing file, making backup original file disaster recovery purposes.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/openai_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","text":"","code":"openai_api_key(key, overwrite = FALSE, install = FALSE)"},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/openai_api_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","text":"key API key provided OpenAI formated quotes. overwrite set TRUE, overwrite existing OPENAI_API_KEY already .Renviron file. install TRUE, install key .Renviron file use future sessions.  Defaults FALSE.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/openai_api_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","text":"return value, called side effects.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/reference/openai_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install an OPENAI API KEY in Your .Renviron File for Repeated Use — openai_api_key","text":"","code":"if (FALSE) { # \\dontrun{ openai_api_key(\"111111abc\", install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"OPENAI_API_KEY\") } # }  if (FALSE) { # \\dontrun{ # If you need to overwrite an existing key: openai_api_key(\"111111abc\", overwrite = TRUE, install = TRUE) # First time, reload your environment so you can use the key without restarting R. readRenviron(\"~/.Renviron\") # You can check it with: Sys.getenv(\"OPENAI_API_KEY\") } # }"},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-040","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.4.0","title":"fuzzylink 0.4.0","text":"fuzzylink() now supports Anthropic Claude (e.g. 'claude-sonnet-4-5-20250929') Mistral (e.g. 'mistral-large-latest') models addition OpenAI. Updated default model gpt-5.2. Active learning loop now reports rolling gradient stopping threshold real time. Fixed potential edge case get_cutoff() NaN F1 scores cause silent failures datasets true matches. Removed unused internal functions (get_training_set(), hand_label(), estimate_tokens()). Fixed bug check_match() verbose LLM responses (e.g. Claude Mistral) cause match labels parsed incorrectly. Labels now normalized extracting first word response.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-031","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.3.1","title":"fuzzylink 0.3.1","text":"Patched check_match() return labels legacy OpenAI models.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-030","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.3.0","title":"fuzzylink 0.3.0","text":"CRAN release: 2026-01-23 API calls language model prompts now passed ellmer package, improving speed, error handling, rate limits.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-025","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.5","title":"fuzzylink 0.2.5","text":"CRAN release: 2025-08-29 Updated documentation publication DOI","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-024","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.4","title":"fuzzylink 0.2.4","text":"CRAN release: 2025-08-18 Patched bug introduced 0.2.3, crashing algorithm exact matches.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-023","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.3","title":"fuzzylink 0.2.3","text":"algorithm now omits exact matches training set active learning loop. avoids superfluous step labeling exact matches language model, patches bug wherein many exact matches caused loop terminate prematurely.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-022","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.2","title":"fuzzylink 0.2.2","text":"algorithm now drops missing observations dfA dfB warning.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-021","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.1","title":"fuzzylink 0.2.1","text":"CRAN release: 2025-06-14 Updated package documentation console messages.","code":""},{"path":"https://joeornstein.github.io/software/fuzzylink/news/index.html","id":"fuzzylink-020","dir":"Changelog","previous_headings":"","what":"fuzzylink 0.2.0","title":"fuzzylink 0.2.0","text":"Initial CRAN submission.","code":""}]
