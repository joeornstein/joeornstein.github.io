<!doctype html>

<html lang="en">

<head>
  <title>Joseph T. Ornstein</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="The HTML5 Herald" />
<meta name="author" content="Joseph T. Ornstein" /><meta property="og:title" content="Regression Puzzle" />
<meta property="og:description" content="Alex Tabarrok points to a fun statistics puzzle, in which flipping the axes in a regression analysis dramatically changes whether you think Packers quarterback Aaron Rodgers is slightly underpaid or extremely underpaid." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/regression-puzzle/" />
<meta property="article:published_time" content="2021-07-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-07-19T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Regression Puzzle"/>
<meta name="twitter:description" content="Alex Tabarrok points to a fun statistics puzzle, in which flipping the axes in a regression analysis dramatically changes whether you think Packers quarterback Aaron Rodgers is slightly underpaid or extremely underpaid."/>

<meta name="generator" content="Hugo 0.69.0" />
    
    <link rel="shortcut icon" href="https://joeornstein.github.io/images/favicon_io/favicon.ico" />
  

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="/fontawesome/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">Joseph T. Ornstein</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/joeornstein" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://twitter.com/joeornstein" title="Twitter">
               <i class="fab fa-twitter fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://scholar.google.com/citations?user=HXC86u8AAAAJ&amp;hl=en" title="Google Scholar">
               <i class="fab fa-google fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Assistant Professor of Political Science, University of Georgia</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Archives</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/publications/">
                <i class="fa-li fa  fa-lg"></i><span>Publications</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/teaching/">
                <i class="fa-li fa  fa-lg"></i><span>Teaching</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/resources/">
                <i class="fa-li fa  fa-lg"></i><span>Resources</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>


<link rel="stylesheet" href="/css/atom-one-dark.css" rel="stylesheet" id="theme-stylesheet">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



<article>

    <h1>Regression Puzzle</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2021-07-19T00:00:00Z">Jul 19, 2021</time>
        </li>
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="/categories/statistics">Statistics</a>
                
            </em>
        </li>
        

        

        <li>2 minutes read</li>
    </ul>
</aside>

    

    
<div class="featured_image">
    <a href="/posts/regression-puzzle/" title="Regression Puzzle">
        <img src="">
    </a>
</div>



    
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p><a href="https://marginalrevolution.com/marginalrevolution/2021/07/a-regression-puzzle.html">Alex Tabarrok</a> points to a fun statistics puzzle, in which flipping the axes in a regression analysis dramatically changes whether you think Packers quarterback Aaron Rodgers is slightly underpaid or <em>extremely</em> underpaid. Here’s a variation on that puzzle.</p>
<p>Suppose you have the following dataset with 50 observations measuring job performance and salary. You want to know who is overpaid and who is underpaid relative to their performance.</p>
<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="right">performance</th>
<th align="right">pay</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1.37</td>
<td align="right">1.01</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">-0.56</td>
<td align="right">-1.07</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">0.36</td>
<td align="right">1.76</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">0.63</td>
<td align="right">0.96</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">0.40</td>
<td align="right">0.29</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">-0.11</td>
<td align="right">0.22</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">1.51</td>
<td align="right">1.44</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">-0.09</td>
<td align="right">0.04</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">2.02</td>
<td align="right">-1.98</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">-0.06</td>
<td align="right">0.25</td>
</tr>
</tbody>
</table>
<p>If we put <code>pay</code> on the y-axis and <code>performance</code> on the x-axis, it appears the red dot is overpaid relative to expectations.</p>
<pre class="r"><code>ggplot(data = d,
       mapping = aes(x=performance, y=pay)) +
  geom_point(mapping = aes(color = factor(id == 1)), alpha = 0.3) +
  geom_smooth(method = &#39;lm&#39;, se = FALSE) +
  theme_bw() +
  theme(legend.position = &#39;&#39;) +
  scale_color_manual(values = c(&#39;black&#39;, &#39;red&#39;))</code></pre>
<p><img src="/posts/regression-puzzle/index_files/figure-html/regression%201-1.png" width="672" /></p>
<p>But what if we flip the axes? Now the very same red dot is performing at a higher level than we would expect given their pay, suggesting that they are <em>underpaid</em>!<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<pre class="r"><code>ggplot(mapping = aes(x=pay, y=performance)) +
  geom_point(mapping = aes(color = factor(id == 1)), alpha = 0.3) +
  geom_smooth(method = &#39;lm&#39;, se = FALSE) +
  theme_bw() +
  theme(legend.position = &#39;&#39;) +
  scale_color_manual(values = c(&#39;black&#39;, &#39;red&#39;))</code></pre>
<p><img src="/posts/regression-puzzle/index_files/figure-html/regression%202-1.png" width="672" /></p>
<p>The fact that someone can be overperforming relative to their pay and overpaid relative to their performance seems deeply counterintuitive, but there’s nothing mathematically paradoxical about it. Regression is a machine that computes <span class="math inline">\(E(Y|X)\)</span>, the expected value of <span class="math inline">\(Y\)</span> for a given <span class="math inline">\(X\)</span> value. Comparing the red dot against other observations with a similar level of performance, the red dot is one of the highest paid:</p>
<p><img src="/posts/regression-puzzle/index_files/figure-html/shade%20performance-1.png" width="672" /></p>
<p>And comparing it against observations with similar pay, the red dot is one of the highest performing:</p>
<p><img src="/posts/regression-puzzle/index_files/figure-html/shade%20pay-1.png" width="672" /></p>
<p>The key is that, when you flip the axes, your regression is conditioning on a different variable. If you want <span class="math inline">\(E(\text{pay} | \text{performance})\)</span>, then you need Regression 1. You can’t recover that expectation from Regression 2, because it’s not what you asked it to compute.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>In the <a href="https://marginalrevolution.com/marginalrevolution/2021/07/a-regression-puzzle.html">original puzzle</a>, Ben Roethlisberger is like our red dot, underpaid or overpaid depending on your method.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Another way to think about it is that Regression 2 suggests that the red dot is underpaid based on the horizontal distance between the observation and the regression line. But “horizontal residuals” don’t make sense, because you didn’t ask your regression to minimize horizontal residuals! You asked it to minimize the (average squared) vertical residual.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="/posts/rcv-forecasting/"><i class="fa fa-chevron-circle-left"></i> Forecasting the NYC Ranked Choice Mayoral Primary</a>
        </li>
        
        
    </ul>
</section>
    
    





</main>
    <footer>
        <h6>Copyright © 2020 - Joseph T. Ornstein |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a>
    </footer>
</div>
<script src="/js/scripts.js"></script>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-166301409-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
