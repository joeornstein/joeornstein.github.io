<!DOCTYPE html>
<html lang="en"><head>
<link href="../img/favicon_io/favicon.ico" rel="icon">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <title>How To Predict The Future – Linear Models</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-2f366650f320edcfcf53d73c80250a32.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

  <script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

  <script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>

  <script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>

  <script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>

  <link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

  <script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

  <script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Linear Models</h1>
  <p class="subtitle">POLS 3220: How to Predict the Future</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="looking-ahead" class="slide level2">
<h2>Looking Ahead</h2>
<ul>
<li class="fragment"><p>Over the next three weeks, we’ll study the fundamentals of <strong>machine learning</strong>.</p>
<ul>
<li class="fragment"></li>
</ul></li>
<li class="fragment"><p>Today linear models. Simple models can get you a long way!</p></li>
</ul>
</section>
<section id="presidential-elections" class="slide level2">
<h2>Presidential Elections</h2>

<img data-src="linear-models_files/figure-revealjs/unnamed-chunk-1-1.png" width="768" class="r-stretch"></section>
<section id="presidential-election-forecast" class="slide level2">
<h2>Presidential Election Forecast</h2>

<img data-src="linear-models_files/figure-revealjs/unnamed-chunk-2-1.png" width="768" class="r-stretch"><ul>
<li class="fragment">“Line of Best Fit”. What is it? We’ll use a familiar strategy. The “best” model is the one that minimizes the <em>average squared error</em>.</li>
</ul>
</section>
<section id="presidential-approval" class="slide level2">
<h2>Presidential Approval</h2>

<img data-src="linear-models_files/figure-revealjs/unnamed-chunk-3-1.png" width="768" class="r-stretch"></section>
<section id="presidential-approval-1" class="slide level2">
<h2>Presidential Approval</h2>

<img data-src="linear-models_files/figure-revealjs/unnamed-chunk-4-1.png" width="768" class="r-stretch"></section>
<section id="adding-multiple-predictors" class="slide level2">
<h2>Adding Multiple Predictors</h2>
<p>Why were the errors for 1972 and 1984 so large?</p>
<p>Plane of best fit</p>
</section>
<section id="plane-of-best-fit" class="slide level2">
<h2>Plane of Best Fit</h2>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-cb1adb3d650e1361cb49" style="width:960px;height:672px;"></div>
<script type="application/json" data-for="htmlwidget-cb1adb3d650e1361cb49">{"x":{"visdat":{"633c25cc701a":["function () ","plotlyVisDat"],"633c4bbc6d64":["function () ","data"]},"cur_data":"633c4bbc6d64","attrs":{"633c25cc701a":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":{},"type":"surface","x":{},"y":{},"opacity":0.5,"showscale":false,"inherit":true},"633c4bbc6d64":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","text":{},"hoverinfo":"text+x+y+z","marker":{"size":5,"color":"red"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"October Approval"},"yaxis":{"title":"Q2 GDP Growth"},"zaxis":{"title":"Incumbent Vote Margin"}},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"colorbar":{"title":"z<br />incvotemargin","ticklen":2},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"z":[[-14.491073868973832,-14.091582858808056,-13.69209184864228,-13.292600838476503,-12.893109828310727,-12.493618818144951,-12.094127807979174,-11.694636797813398,-11.295145787647622,-10.895654777481845,-10.496163767316068,-10.096672757150291,-9.6971817469845156,-9.2976907368187387,-8.8981997266529618,-8.4987087164871866,-8.0992177063214097,-7.6997266961556328,-7.3002356859898558,-6.9007446758240798,-6.5012536656583038,-6.1017626554925268,-5.7022716453267499,-5.3027806351609739,-4.9032896249951987,-4.5037986148294218,-4.1043076046636457,-3.7048165944978688,-3.3053255843320919,-2.9058345741663167],[-13.525665424567233,-13.126174414401458,-12.726683404235681,-12.327192394069904,-11.927701383904129,-11.528210373738352,-11.128719363572575,-10.7292283534068,-10.329737343241023,-9.930246333075246,-9.530755322909469,-9.1312643127436921,-8.731773302577917,-8.33228229241214,-7.932791282246364,-7.5333002720805871,-7.133809261914811,-6.7343182517490341,-6.3348272415832572,-5.9353362314174811,-5.5358452212517051,-5.1363542110859282,-4.7368632009201512,-4.3373721907543752,-3.9378811805886,-3.5383901704228231,-3.1388991602570471,-2.7394081500912701,-2.3399171399254932,-1.9404261297597181],[-12.560256980160638,-12.160765969994859,-11.761274959829084,-11.361783949663307,-10.96229293949753,-10.562801929331755,-10.163310919165978,-9.7638199090002011,-9.364328898834426,-8.9648378886686491,-8.5653468785028721,-8.1658558683370952,-7.7663648581713201,-7.3668738480055431,-6.9673828378397671,-6.5678918276739902,-6.1684008175082141,-5.7689098073424372,-5.3694187971766603,-4.9699277870108842,-4.5704367768451082,-4.1709457666793313,-3.7714547565135548,-3.3719637463477783,-2.9724727361820031,-2.5729817260162262,-2.1734907158504502,-1.7739997056846732,-1.3745086955188963,-0.97501768535312117],[-11.594848535754037,-11.19535752558826,-10.795866515422485,-10.396375505256708,-9.9968844950909315,-9.5973934849251545,-9.1979024747593794,-8.7984114645936025,-8.3989204544278255,-7.9994294442620495,-7.5999384340962726,-7.2004474239304965,-6.8009564137647205,-6.4014654035989436,-6.0019743934331675,-5.6024833832673906,-5.2029923731016146,-4.8035013629358376,-4.4040103527700616,-4.0045193426042847,-3.6050283324385082,-3.2055373222727317,-2.8060463121069552,-2.4065553019411787,-2.0070642917754036,-1.6075732816096266,-1.2080822714438506,-0.80859126127807368,-0.40910025111229675,-0.0096092409465216022],[-10.629440091347441,-10.229949081181664,-9.8304580710158866,-9.4309670608501115,-9.0314760506843346,-8.6319850405185576,-8.2324940303527825,-7.8330030201870056,-7.4335120100212286,-7.0340209998554526,-6.6345299896896757,-6.2350389795238996,-5.8355479693581236,-5.4360569591923467,-5.0365659490265706,-4.6370749388607937,-4.2375839286950177,-3.8380929185292407,-3.4386019083634642,-3.0391108981976878,-2.6396198880319113,-2.2401288778661348,-1.8406378677003583,-1.4411468575345818,-1.0416558473688067,-0.64216483720302975,-0.24267382703725371,0.15681718312852322,0.55630819329430015,0.9557992034600753],[-9.6640316469408418,-9.2645406367750667,-8.8650496266092897,-8.4655586164435128,-8.0660676062777377,-7.6665765961119607,-7.2670855859461838,-6.8675945757804078,-6.4681035656146308,-6.0686125554488548,-5.6691215452830779,-5.2696305351173018,-4.8701395249515258,-4.4706485147857489,-4.0711575046199728,-3.6716664944541959,-3.2721754842884199,-2.8726844741226429,-2.4731934639568665,-2.07370245379109,-1.6742114436253135,-1.274720433459537,-0.87522942329376052,-0.47573841312798404,-0.076247402962208888,0.32324360720356804,0.72273461736934408,1.122225627535121,1.5217166377008979,1.9212076478666731],[-8.6986232025342431,-8.299132192368468,-7.8996411822026911,-7.5001501720369141,-7.1006591618711381,-6.7011681517053621,-6.3016771415395851,-5.9021861313738091,-5.5026951212080322,-5.1032041110422561,-4.7037131008764792,-4.3042220907107032,-3.9047310805449271,-3.5052400703791506,-3.1057490602133742,-2.7062580500475972,-2.3067670398818212,-1.9072760297160443,-1.5077850195502678,-1.1082940093844913,-0.70880299921871481,-0.30931198905293833,0.090179021112838154,0.48967003127861464,0.88916104144438979,1.2886520516101667,1.6881430617759428,2.0876340719417197,2.4871250821074966,2.8866160922732718],[-7.7332147581276454,-7.3337237479618684,-6.9342327377960924,-6.5347417276303155,-6.1352507174645394,-5.7357597072987634,-5.3362686971329865,-4.9367776869672104,-4.5372866768014335,-4.1377956666356575,-3.7383046564698805,-3.3388136463041045,-2.9393226361383284,-2.539831625972552,-2.1403406158067755,-1.7408496056409986,-1.3413585954752223,-0.94186758530944559,-0.5423765751436691,-0.14288556497789262,0.25660544518788386,0.65609645535366035,1.0555874655194368,1.4550784756852133,1.8545694858509885,2.2540604960167654,2.6535515061825414,3.0530425163483184,3.4525335265140953,3.8520245366798704],[-6.7678063137210476,-6.3683153035552706,-5.9688242933894955,-5.5693332832237186,-5.1698422730579416,-4.7703512628921656,-4.3708602527263896,-3.9713692425606131,-3.5718782323948366,-3.1723872222290597,-2.7728962120632836,-2.3734052018975067,-1.9739141917317309,-1.5744231815659544,-1.1749321714001779,-0.77544116123440132,-0.37595015106862495,0.023540859097151756,0.42303186926292824,0.82252287942870472,1.2220138895944812,1.6215048997602577,2.0209959099260342,2.4204869200918107,2.8199779302575858,3.2194689404233627,3.6189599505891388,4.0184509607549153,4.4179419709206922,4.8174329810864673],[-5.8023978693144507,-5.4029068591486737,-5.0034158489828968,-4.6039248388171208,-4.2044338286513447,-3.8049428184855678,-3.4054518083197918,-3.0059607981540153,-2.6064697879882388,-2.2069787778224619,-1.8074877676566856,-1.4079967574909091,-1.0085057473251331,-0.60901473715935661,-0.20952372699358013,0.18996728317219647,0.58945829333797284,0.98894930350374954,1.388440313669526,1.7879313238353025,2.187422334001079,2.5869133441668555,2.986404354332632,3.3858953644984084,3.7853863746641836,4.1848773848299601,4.584368394995737,4.9838594051615139,5.3833504153272909,5.782841425493066],[-4.8369894249078529,-4.437498414742076,-4.0380074045762999,-3.638516394410523,-3.2390253842447465,-2.83953437407897,-2.440043363913194,-2.0405523537474175,-1.641061343581641,-1.2415703334158645,-0.84207932325008794,-0.44258831308431146,-0.043097302918535474,0.35639370724724106,0.75588471741301755,1.1553757275787941,1.5548667377445704,1.9543577479103473,2.3538487580761238,2.7533397682419003,3.1528307784076768,3.5523217885734533,3.9518127987392297,4.3513038089050058,4.7507948190707809,5.1502858292365579,5.5497768394023339,5.9492678495681108,6.3487588597338878,6.7482498698996629],[-3.8715809805012533,-3.4720899703354764,-3.0725989601697004,-2.6731079500039243,-2.2736169398381474,-1.8741259296723711,-1.4746349195065951,-1.0751439093408186,-0.6756528991750419,-0.27616188900926542,0.12332912115651107,0.52282013132228755,0.92231114148806359,1.3218021516538401,1.7212931618196166,2.120784171985393,2.5202751821511695,2.9197661923169465,3.3192572024827225,3.7187482126484994,4.1182392228142755,4.5177302329800524,4.9172212431458284,5.3167122533116054,5.7162032634773805,6.1156942736431574,6.5151852838089335,6.9146762939747104,7.3141673041404873,7.7136583143062625],[-2.9061725360946555,-2.5066815259288786,-2.1071905157631026,-1.7076995055973261,-1.3082084954315496,-0.90871748526577312,-0.50922647509999708,-0.10973546493422059,0.28975554523155611,0.68924655539733259,1.0887375655631091,1.4882285757288856,1.8877195858946616,2.2872105960604379,2.6867016062262143,3.0861926163919913,3.4856836265577673,3.8851746367235442,4.2846656468893212,4.6841566570550972,5.0836476672208732,5.4831386773866502,5.8826296875524271,6.2821206977182031,6.6816117078839783,7.0811027180497552,7.4805937282155313,7.8800847383813082,8.2795757485470851,8.6790667587128603],[-1.9407640916880564,-1.5412730815222795,-1.1417820713565034,-0.74229106119072696,-0.34280005102495048,0.056690959140826003,0.45618196930660204,0.85567297947237853,1.2551639896381552,1.6546549998039317,2.054146009969708,2.4536370201354849,2.8531280303012605,3.252619040467037,3.6521100506328139,4.0516010607985899,4.4510920709643669,4.8505830811301429,5.2500740912959198,5.6495651014616968,6.0490561116274728,6.4485471217932488,6.8480381319590258,7.2475291421248027,7.6470201522905779,8.0465111624563548,8.4460021726221299,8.8454931827879069,9.2449841929536838,9.6444752031194589],[-0.97535564728145907,-0.57586463711568214,-0.1763736269499061,0.22311738321587038,0.62260839338164686,1.0220994035474233,1.4215904137131994,1.8210814238789759,2.2205724340447528,2.6200634442105288,3.0195544543763058,3.4190454645420818,3.8185364747078578,4.2180274848736348,4.6175184950394108,5.0170095052051877,5.4165005153709638,5.8159915255367407,6.2154825357025167,6.6149735458682937,7.0144645560340706,7.4139555661998466,7.8134465763656227,8.2129375865313996,8.6124285966971748,9.0119196068629517,9.4114106170287286,9.8109016271945038,10.210392637360282,10.609883647526058],[-0.0099472028748612829,0.38954380729091564,0.78903481745669168,1.1885258276224682,1.5880168377882447,1.9875078479540211,2.3869988581197972,2.7864898682855737,3.1859808784513506,3.5854718886171266,3.9849628987829036,4.3844539089486796,4.7839449191144556,5.1834359292802326,5.5829269394460086,5.9824179496117855,6.3819089597775616,6.7813999699433385,7.1808909801091154,7.5803819902748915,7.9798730004406675,8.3793640106064444,8.7788550207722214,9.1783460309379983,9.5778370411037734,9.9773280512695486,10.376819061435326,10.776310071601102,11.175801081766879,11.575292091932655],[0.9554612415317365,1.3549522516975134,1.7544432618632895,2.153934272029066,2.5534252821948424,2.9529162923606189,3.352407302526395,3.7518983126921714,4.1513893228579484,4.5508803330237244,4.9503713431895013,5.3498623533552774,5.7493533635210534,6.1488443736868303,6.5483353838526064,6.9478263940183833,7.3473174041841594,7.7468084143499363,8.1462994245157123,8.5457904346814892,8.9452814448472662,9.3447724550130431,9.7442634651788183,10.143754475344595,10.54324548551037,10.942736495676147,11.342227505841922,11.741718516007701,12.141209526173476,12.540700536339251],[1.9208696859383343,2.3203606961041112,2.7198517062698873,3.1193427164356637,3.5188337266014402,3.9183247367672167,4.3178157469329932,4.7173067570987692,5.1167977672645462,5.5162887774303222,5.9157797875960991,6.3152707977618752,6.7147618079276512,7.1142528180934281,7.5137438282592042,7.9132348384249811,8.3127258485907571,8.7122168587565341,9.111707868922311,9.5111988790880879,9.9106898892538631,10.31018089941964,10.709671909585417,11.109162919751192,11.508653929916967,11.908144940082746,12.307635950248521,12.707126960414298,13.106617970580075,13.50610898074585],[2.886278130344933,3.2857691405107099,3.6852601506764859,4.0847511608422629,4.4842421710080389,4.8837331811738149,5.2832241913395919,5.6827152015053679,6.0822062116711448,6.4816972218369209,6.8811882320026978,7.2806792421684738,7.6801702523342499,8.0796612625000268,8.4791522726658037,8.8786432828315789,9.2781342929973558,9.6776253031631327,10.07711631332891,10.476607323494687,10.876098333660462,11.275589343826239,11.675080353992016,12.074571364157791,12.474062374323566,12.873553384489345,13.27304439465512,13.672535404820897,14.072026414986674,14.471517425152449],[3.8516865747515299,4.2511775849173068,4.6506685950830828,5.0501596052488598,5.4496506154146358,5.8491416255804118,6.2486326357461888,6.6481236459119648,7.0476146560777417,7.4471056662435178,7.8465966764092947,8.2460876865750716,8.6455786967408468,9.0450697069066237,9.4445607170724006,9.8440517272381758,10.243542737403953,10.64303374756973,11.042524757735507,11.442015767901282,11.841506778067059,12.240997788232836,12.640488798398613,13.039979808564389,13.439470818730165,13.83896182889594,14.238452839061717,14.637943849227494,15.037434859393271,15.436925869559046],[4.8170950191581268,5.2165860293239037,5.6160770394896797,6.0155680496554567,6.4150590598212327,6.8145500699870087,7.2140410801527857,7.6135320903185617,8.0130231004843377,8.4125141106501147,8.8120051208158916,9.2114961309816685,9.6109871411474437,10.010478151313221,10.409969161478998,10.809460171644773,11.20895118181055,11.608442191976327,12.007933202142103,12.40742421230788,12.806915222473656,13.206406232639432,13.605897242805209,14.005388252970985,14.40487926313676,14.804370273302538,15.203861283468314,15.60335229363409,16.002843303799867,16.402334313965643],[5.7825034635647272,6.1819944737305041,6.5814854838962802,6.9809764940620571,7.3804675042278332,7.7799585143936092,8.1794495245593861,8.578940534725163,8.9784315448909382,9.3779225550567151,9.7774135652224921,10.176904575388269,10.576395585554044,10.975886595719821,11.375377605885598,11.774868616051373,12.17435962621715,12.573850636382927,12.973341646548704,13.372832656714479,13.772323666880256,14.171814677046033,14.57130568721181,14.970796697377587,15.370287707543362,15.769778717709137,16.169269727874912,16.568760738040691,16.96825174820647,17.367742758372245],[6.7479119079713259,7.1474029181371028,7.5468939283028789,7.9463849384686558,8.3458759486344327,8.7453669588002079,9.1448579689659848,9.5443489791317617,9.9438399892975369,10.343330999463314,10.742822009629091,11.142313019794868,11.541804029960643,11.94129504012642,12.340786050292197,12.740277060457972,13.139768070623749,13.539259080789526,13.938750090955303,14.338241101121078,14.737732111286855,15.137223121452632,15.536714131618409,15.936205141784185,16.335696151949961,16.735187162115736,17.134678172281511,17.53416918244729,17.933660192613068,18.333151202778843],[7.7133203523779228,8.1128113625436988,8.5123023727094758,8.9117933828752527,9.3112843930410278,9.7107754032068048,10.110266413372582,10.509757423538357,10.909248433704134,11.308739443869911,11.708230454035688,12.107721464201465,12.50721247436724,12.906703484533017,13.306194494698794,13.705685504864569,14.105176515030346,14.504667525196123,14.904158535361899,15.303649545527676,15.703140555693452,16.102631565859227,16.502122576025005,16.901613586190781,17.301104596356556,17.700595606522334,18.10008661668811,18.499577626853885,18.899068637019663,19.298559647185439],[8.6787287967845224,9.0782198069502975,9.4777108171160744,9.8772018272818514,10.276692837447627,10.676183847613403,11.07567485777918,11.475165867944956,11.874656878110732,12.274147888276509,12.673638898442286,13.073129908608063,13.472620918773838,13.872111928939615,14.271602939105392,14.671093949271167,15.070584959436944,15.470075969602721,15.869566979768498,16.269057989934275,16.66854900010005,17.068040010265825,17.467531020431604,17.867022030597379,18.266513040763154,18.666004050928933,19.065495061094708,19.464986071260483,19.864477081426262,20.263968091592037],[9.644137241191121,10.0436282513569,10.443119261522675,10.842610271688452,11.242101281854229,11.641592292020004,12.041083302185781,12.440574312351558,12.840065322517333,13.23955633268311,13.639047342848887,14.038538353014664,14.438029363180439,14.837520373346216,15.237011383511993,15.636502393677768,16.035993403843545,16.435484414009323,16.834975424175099,17.234466434340874,17.633957444506652,18.033448454672428,18.432939464838203,18.832430475003981,19.231921485169757,19.631412495335532,20.030903505501307,20.430394515667086,20.829885525832864,21.229376535998639],[10.60954568559772,11.009036695763495,11.408527705929272,11.808018716095049,12.207509726260824,12.607000736426601,13.006491746592378,13.405982756758153,13.80547376692393,14.204964777089707,14.604455787255484,15.003946797421261,15.403437807587036,15.802928817752813,16.20241982791859,16.601910838084365,17.001401848250143,17.400892858415919,17.800383868581694,18.199874878747472,18.599365888913248,18.998856899079023,19.398347909244801,19.797838919410577,20.197329929576352,20.59682093974213,20.996311949907906,21.395802960073681,21.795293970239459,22.194784980405235],[11.574954130004318,11.974445140170094,12.37393615033587,12.773427160501647,13.172918170667423,13.572409180833199,13.971900190998976,14.371391201164752,14.770882211330528,15.170373221496305,15.569864231662082,15.969355241827859,16.368846251993634,16.76833726215941,17.167828272325188,17.567319282490963,17.966810292656742,18.366301302822517,18.765792312988292,19.165283323154071,19.564774333319846,19.964265343485621,20.3637563536514,20.763247363817175,21.16273837398295,21.562229384148729,21.961720394314504,22.361211404480279,22.760702414646058,23.160193424811833],[12.540362574410917,12.939853584576692,13.339344594742469,13.738835604908246,14.138326615074021,14.537817625239798,14.937308635405575,15.33679964557135,15.736290655737127,16.135781665902904,16.535272676068679,16.934763686234458,17.334254696400233,17.733745706566008,18.133236716731787,18.532727726897562,18.932218737063341,19.331709747229116,19.731200757394891,20.13069176756067,20.530182777726445,20.92967378789222,21.329164798057999,21.728655808223774,22.128146818389549,22.527637828555328,22.927128838721103,23.326619848886878,23.726110859052657,24.125601869218432],[13.505771018817512,13.905262028983287,14.304753039149064,14.704244049314841,15.103735059480616,15.503226069646393,15.90271707981217,16.302208089977945,16.701699100143724,17.101190110309499,17.500681120475274,17.900172130641053,18.299663140806828,18.699154150972603,19.098645161138382,19.498136171304157,19.897627181469936,20.297118191635711,20.696609201801486,21.096100211967265,21.49559122213304,21.895082232298819,22.294573242464594,22.694064252630369,23.093555262796144,23.493046272961923,23.892537283127698,24.292028293293477,24.691519303459252,25.091010313625027]],"type":"surface","x":[-25,-22.379310344827587,-19.758620689655174,-17.137931034482758,-14.517241379310345,-11.896551724137932,-9.2758620689655178,-6.6551724137931032,-4.0344827586206904,-1.4137931034482776,1.2068965517241352,3.8275862068965516,6.4482758620689644,9.0689655172413808,11.689655172413794,14.310344827586206,16.931034482758619,19.551724137931032,22.172413793103445,24.793103448275858,27.41379310344827,30.03448275862069,32.655172413793103,35.275862068965516,37.896551724137929,40.517241379310349,43.137931034482762,45.758620689655174,48.379310344827587,51],"y":[-7.9000000000000004,-7.2896551724137932,-6.6793103448275861,-6.068965517241379,-5.4586206896551719,-4.8482758620689648,-4.2379310344827585,-3.6275862068965514,-3.0172413793103443,-2.4068965517241372,-1.7965517241379301,-1.186206896551723,-0.57586206896551673,0.03448275862069039,0.64482758620689751,1.2551724137931046,1.8655172413793117,2.4758620689655189,3.086206896551726,3.6965517241379331,4.3068965517241402,4.9172413793103473,5.5275862068965544,6.1379310344827616,6.7482758620689669,7.358620689655174,7.9689655172413811,8.5793103448275883,9.1896551724137954,9.8000000000000007],"opacity":0.5,"frame":null},{"x":[48,51,34,5,-25,25,-22,18,5,8],"y":[3.2000000000000002,4.7000000000000002,9.8000000000000007,3,-7.9000000000000004,7.0999999999999996,4.2999999999999998,7.0999999999999996,2.8999999999999999,1.3],"z":[15.599999999999994,22.599999999999994,23.599999999999994,-2.2000000000000028,-10.599999999999994,18.400000000000006,-7,9.4000000000000057,2.480000000000004,4],"type":"scatter3d","mode":"markers","text":[1956,1964,1972,1976,1980,1984,1992,1996,2004,2012],"hoverinfo":["text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z","text+x+y+z"],"marker":{"color":"red","size":5,"line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="threee-dangers" class="slide level2">
<h2>Threee Dangers</h2>
<p>When using a linear model, keep in mind three dangers that could ruin your predictions:</p>
<ol type="1">
<li class="fragment"><p>Nonlinearity</p></li>
<li class="fragment"><p>Extrapolation</p></li>
<li class="fragment"><p>Overfitting</p></li>
</ol>
</section>
<section id="danger-1-nonlinearity" class="slide level2">
<h2>Danger 1: Nonlinearity</h2>
<div class="fragment">
<p>The linear model faithfully gives you the line of best fit…</p>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"</code></pre>
</div>
</div>
<p>…even when a straight line is a bad model.</p>
<ul>
<li class="fragment"><strong>Diagnostic</strong>: Look at a chart! Are there patterns in the errors?</li>
</ul>
</div>
</section>
<section id="danger-2-extrapolation" class="slide level2">
<h2>Danger 2: Extrapolation</h2>
</section>
<section id="danger-3-structural-breaks" class="slide level2">
<h2>Danger 3: Structural Breaks</h2>
<ul>
<li class="fragment"><p>Predicting with a linear model assumes that the relationships observed in your data will be <em>stable</em> over time.</p></li>
<li class="fragment"><p>In other words, you’re assuming that the future will follow the same rules as the past.</p></li>
<li class="fragment"></li>
</ul>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>